{"ast":null,"code":"/* SCRIPT.JS */\n\n/* ------------------------------------------------------------------------------------------------------- */\n\n/* This is main JS file that contains custom rules used in this template */\n\n/* ------------------------------------------------------------------------------------------------------- */\n\n/* Template Name: PRAGUE */\n\n/* Version: 1.1.0 Initial Release */\n\n/* Build Date: */\n\n/* Author:  */\n\n/* Website: */\n\n/* Copyright: (C) */\n\n/* ------------------------------------------------------------------------------------------------------ */\n\n/* -------------------------------------------------------- */\n\n/* TABLE OF CONTENTS: */\n\n/* -------------------------------------------------------- */\n\n/*\n1. INIT\n2. WINDOW LOAD\n3. WINDOW RESIZE\n4. WINDOW SCROLL\n5. MENU\n6. BACKGROUND\n7. PAGE HEIGHT CALCULATE\n8. TOP BANNER HEIGHT AND CURSOR\n9. FULL VIDEO WIDTH\n10. BUTTON CREATIVE ANIMATE\n11. FIGURES ANIMATE & WIDTH\n12. SWIPER SLIDER\n14. TESTEMONIALS\n15. COMING SOON\n16. INIT VIVUS FOR SVG\n17. FILMSTRIP SLIDER HEIGHT\n18. FILMSTRIP FILTER\n19. TOP FILTER\n20. TIMELINE SORTING\n21. TIMELINE IMAGE HEIGHT & SCROLL\n22. TIMELINE EXHIBITION\n23. SLICK SLIDER\n24. PROJECT LIST SLIDER\n25. PROJECT CATEGORIES\n26. PORTFOLIO\n27. PROJECT DETAIL PARALLAX\n28. PROJECT DETAIL BEFORE AFTER\n29. LOAD MORE\n*/\n\n/* -------------------------------------------------------- */\n;\n\n(function ($, window, document, underfined) {\n  'use strict';\n  /***********************************/\n\n  /* INIT */\n\n  /**********************************/\n\n  var swipers = [],\n      vivus = [],\n      slicks = [],\n      winScr,\n      isotopeGridVar,\n      isotopeMasonryVar,\n      _isresponsive,\n      smPoint = 768,\n      mdPoint = 992,\n      lgPoint = 1200,\n      addPoint = 1600,\n      _ismobile = navigator.userAgent.match(/Android/i) || navigator.userAgent.match(/webOS/i) || navigator.userAgent.match(/iPhone/i) || navigator.userAgent.match(/iPad/i) || navigator.userAgent.match(/iPod/i);\n  /**\n   *\n   * PageCalculations function\n   * @since 1.0.0\n   * @version 1.0.1\n   * @var winW\n   * @var winH\n   * @var winS\n   * @var pageCalculations\n   * @var onEvent\n   **/\n\n\n  if (typeof pageCalculations !== 'function') {\n    var winW,\n        winH,\n        winS,\n        pageCalculations,\n        documentHeight,\n        $html,\n        latestKnownScrollY,\n        lastKnownScrollY,\n        onEvent = window.addEventListener;\n\n    pageCalculations = function (func) {\n      winW = window.innerWidth;\n      winH = window.innerHeight;\n      winS = $(window).scrollTop();\n      documentHeight = $(document).height(), $html = $('html');\n      latestKnownScrollY = $(window).scrollTop(), lastKnownScrollY = latestKnownScrollY;\n      if (!func) return;\n      onEvent('load', func, true); // window onload\n\n      onEvent('resize', func, true); // window resize\n      //onEvent(\"orientationchange\", func, false); // window orientationchange\n    }; // end pageCalculations\n\n\n    pageCalculations(function () {\n      pageCalculations();\n    });\n  }\n\n  pageCalculations(function () {\n    parallaxDetailHeigth();\n  });\n  wpc_add_img_bg('.s-loader-switch');\n  /***********************************/\n\n  /* WINDOW LOAD */\n\n  /**********************************/\n\n  $(window).on('load', function () {\n    $('body').addClass('loaded').find('.prague-loader').addClass('is-loaded');\n    startBtnAnimate();\n    fixShowcase();\n    startFigureAnimate();\n    testimonialsSliderHeight();\n    initSwiper();\n    pragueGrid();\n    pragueMasonry();\n    pragueTimelineList();\n    initVivus();\n    initProjectDetailSlider();\n    initProjectDetailFullScreen();\n    beforeAfter();\n    initSlick();\n    topBannerHeight();\n    showcaseSlider(); // $('. -item-paralax').foxParalax();\n  }); // LAZYLOAD\n\n  $(window).on(\"load\", function () {\n    $(\"img[data-lazy-src]\").foxlazy();\n  });\n  /***********************************/\n\n  /* WINDOW RESIZE */\n\n  /**********************************/\n\n  $(window).on('resize', function () {\n    $('.filmstrip-slider').each(function (index) {\n      var that = $(this);\n      setTimeout(function () {\n        that[index].slick.refresh();\n      }, 0);\n    });\n    testimonialsSliderHeight();\n    topBannerHeight();\n  });\n  /***********************************/\n\n  /* WINDOW SCROLL */\n\n  /**********************************/\n\n  $(window).on('scroll', function () {\n    winS = $(window).scrollTop();\n    latestKnownScrollY = $(window).scrollTop();\n    lastKnownScrollY = latestKnownScrollY;\n    Parallax.update();\n    startBtnAnimate();\n    startFigureAnimate();\n\n    if ($(this).scrollTop() >= 50) {\n      $('header').addClass('scroll');\n    } else {\n      $('header').removeClass('scroll');\n    }\n  });\n  /***********************************/\n\n  /* MENU */\n\n  /**********************************/\n  // social icons\n\n  $('.prague-social-nav > a').on('click', function (e) {\n    var thisItem = $(this);\n    var thisParent = $(this).parent('.prague-social-nav');\n    var siblings = $(thisParent).find('.social-content');\n\n    if ($(siblings).length > 0 && $(siblings).css('display') === 'none') {\n      $(siblings).show(300);\n    } else {\n      $(siblings).hide(300);\n    }\n\n    e.preventDefault();\n  }); // menu\n\n  function openSimpleMenu() {\n    $('.prague-nav-menu-icon').toggleClass('active');\n    $('.prague-navigation').slideToggle();\n    $('.prague-header').toggleClass('open-menu');\n    $('body, html').toggleClass('no-scroll');\n\n    if (window.enable_foxlazy) {\n      $(window).trigger(\"load\");\n    }\n  }\n\n  $('.prague-nav-menu-icon a').on('click', function (e) {\n    openSimpleMenu();\n    e.preventDefault();\n  }); // menu clone link\n\n  $('.prague-header.full .menu-item-has-children').each(function () {\n    var $this = $(this),\n        $sub_menu = $this.find('> .sub-menu');\n\n    if (!/#/.test($this.find('> a')[0].href)) {\n      $sub_menu.prepend($this.find('> a').clone().addClass('clone-menu-item'));\n    }\n\n    $this.find('> a').on('click', function () {\n      return false;\n    });\n  }); // full menu navigation\n\n  var show_level = 0;\n\n  function moveMenu(direction) {\n    var submenu_count = $('.sub-menu.active').length;\n\n    if (direction == 'toRight') {\n      show_level--;\n    } else {\n      show_level++;\n    }\n\n    if (show_level < 0) show_level = 0;\n    if (show_level >= submenu_count) show_level = submenu_count;\n    $('.prague-header.full nav').css('transform', 'translateX(-' + show_level * 100 + '%)');\n\n    if (show_level > 0) {\n      $('.prague-header-form').addClass('hidyy');\n    } else {\n      $('.prague-header-form').removeClass('hidyy');\n    }\n  }\n\n  $('.prague-header.full .main-menu a').on('click', function (e) {\n    if ($(this).hasClass('clone-menu-item')) return true;\n    $('.sub-menu').removeClass('active');\n    $(this).closest('.sub-menu').addClass('active');\n    $(this).next('ul').addClass('active'); // swipe menu\n\n    moveMenu();\n  });\n\n  if ($('.prague-navigation').length) {\n    // swipe menu events\n    var hammertime = new Hammer($('.prague-navigation-inner')[0], {});\n    hammertime.on('swipeleft', function (_this) {\n      moveMenu();\n    });\n    hammertime.on('swiperight', function (_this) {\n      moveMenu('toRight');\n    });\n  }\n  /***********************************/\n\n  /* BACKGROUND */\n\n  /**********************************/\n  //sets child image as a background\n\n\n  function wpc_add_img_bg(img_sel, parent_sel) {\n    if (!img_sel) {\n      return false;\n    }\n\n    var $parent, $neighbor, $imgDataHidden, $imgDataSibling, _this;\n\n    $(img_sel).each(function () {\n      _this = $(this);\n      $imgDataHidden = _this.data('s-hidden');\n      $imgDataSibling = _this.data('s-sibling');\n      $parent = _this.closest(parent_sel);\n      $parent = $parent.length ? $parent : _this.parent();\n\n      if ($imgDataSibling) {\n        $parent.addClass('s-back-sibling-switch');\n        $neighbor = _this.next();\n        $neighbor = $neighbor.length ? $neighbor : _this.next();\n        $neighbor.css('background-image', 'url(' + this.src + ')').addClass('s-sibling-switch');\n      } else {\n        $parent.css('background-image', 'url(' + this.src + ')').addClass('s-back-switch');\n      }\n\n      if ($imgDataHidden) {\n        _this.css('visibility', 'hidden');\n      } else {\n        _this.hide();\n      }\n    });\n  }\n  /***********************************/\n\n  /* PAGE HEIGHT CALCULATE */\n\n  /**********************************/\n\n\n  function pageHeightCalculate() {\n    if ($('.page-calculate.fullheight').length) {\n      var pageCalculate = $('.page-calculate.fullheight'),\n          pageCalculateContentHeight = $('.page-calculate.fullheight .page-calculate-content').outerHeight(true);\n\n      if (winH < pageCalculateContentHeight) {\n        pageCalculate.css('height', pageCalculateContentHeight);\n      } else {\n        pageCalculate.css('height', winH);\n      }\n    }\n  }\n\n  function pageOnlyFullHeight(wrapper) {\n    var $wrapperHeight = $(wrapper);\n    $wrapperHeight.outerHeight(winH);\n  }\n  /***********************************/\n\n  /* FULL HEIGHT BANNER */\n\n  /**********************************/\n\n\n  function topBannerHeight() {\n    var headerH = $('.prague-header').outerHeight() || 0;\n    var footerH = $('.prague-footer').not('.prague-footer.modern').outerHeight() || 0;\n    var windowH = $(window).height(); //it's fixed white space on mobile scroll and good works :)\n\n    var offsetTop;\n\n    if ($('#wpadminbar').length) {\n      offsetTop = headerH + $('#wpadminbar').outerHeight();\n    } else {\n      offsetTop = headerH;\n    }\n\n    $('.full-height-window').css('height', windowH + 'px');\n    $('.full-height-window-min-hard').css('min-height', windowH - offsetTop + 'px');\n    $('.full-height-window-hard').css('height', windowH - offsetTop + 'px');\n    $('.full-height-window-head-foot').css('height', windowH - offsetTop - footerH + 'px');\n    $('.middle-height-window-hard').css('height', (windowH - offsetTop) * 0.8 + 'px');\n  }\n  /***********************************/\n\n  /* TOP BANNER HEIGHT AND CURSOR */\n\n  /**********************************/\n\n\n  function topFullBannerHeight() {\n    var bannerFullWrapper = $('.top-banner.fullheight'),\n        bannerFullContent = $('.top-banner.fullheight .content'),\n        bannerFullContentHeight = $('.top-banner.fullheight .content').outerHeight(true);\n    var heigh = '100vh';\n\n    if (heigh < bannerFullContentHeight) {\n      bannerFullWrapper.css('min-height', bannerFullContentHeight);\n    } else {\n      bannerFullWrapper.css('min-height', heigh);\n    }\n  }\n\n  $('.top-banner .top-banner-cursor').on('click', function (e) {\n    $('html, body').animate({\n      scrollTop: $('.top-banner').height() + $('.top-banner').offset().top\n    }, 600);\n  });\n  /***********************************/\n\n  /* FULL VIDEO WIDTH */\n\n  /**********************************/\n\n  /* Set height iframe */\n\n  function setHeightAllIframe() {// $('.prague-iframe-wrapper').each(function(){\n    //     var $iframe_wrap = $(this),\n    //         $iframe = $iframe_wrap.find('iframe');\n    //         $iframe.height($iframe.width() * 0.7);\n    // });\n  }\n\n  function upFullWidthVideo() {\n    function is_touch_device() {\n      return 'ontouchstart' in window // works on most browsers\n      || navigator.maxTouchPoints; // works on IE10/11 and Surface\n    }\n\n    ; // for video uploaded\n\n    $('.js-video-wrapper').each(function () {\n      var $video = $(this).find('video,iframe'),\n          w = $video.width(),\n          h = $video.outerHeight(),\n          videoRatio = (w / h).toFixed(2),\n          minW = parseInt($(this).width()),\n          minH = parseInt($(this).outerHeight()),\n          widthRatio = minW / w,\n          heightRatio = minH / h,\n          newWidth,\n          newHeight;\n      $video.removeAttr('height').removeAttr('width');\n\n      if (widthRatio > heightRatio) {\n        newWidth = minW;\n        newHeight = Math.ceil(newWidth / videoRatio);\n      } else {\n        newHeight = minH;\n        newWidth = Math.ceil(newHeight * videoRatio);\n      }\n\n      if (minW < newWidth) {\n        newWidth = minW;\n      }\n\n      $video.width(newWidth + 'px').height(newHeight + 'px'); // if (is_touch_device() && winW >= '768') {\n      // \t$video.hide();\n      // } else {\n      // \t$video.show();\n      // }\n\n      if (newHeight > minH) {\n        $video.css('top', -(newHeight - minH) / 2);\n      } else {\n        $video.css('top', '0');\n      }\n\n      if (newWidth >= minW) {\n        $video.css('left', -(newWidth - minW) / 2);\n      } else {\n        $video.css('left', '0');\n      }\n    });\n  }\n\n  window.onYouTubeIframeAPIReady = function () {\n    var player = [],\n        $iframe_parent = [],\n        $this; // each all iframe\n\n    $('iframe').each(function (i) {\n      // get parent element\n      $this = $(this);\n      $iframe_parent = $this.closest('.js-video-wrapper'); // init video player\n\n      player[i] = new YT.Player(this, {\n        // callbacks\n        events: {\n          'onReady': function (event) {\n            // mute on/off\n            if ($this.data('mute') == 'on') {\n              event.target.mute();\n            }\n          }\n        }\n      });\n      $iframe_parent.find('.js-play-button').on('click', function () {\n        event.preventDefault();\n        var $this = $(this);\n\n        if ($this.hasClass('start')) {\n          player[i].pauseVideo();\n          $this.removeClass('start');\n        } else {\n          player[i].playVideo();\n          $this.addClass('start').closest('.js-video-wrapper').addClass('play');\n        }\n      });\n      $iframe_parent.find('.js-video-close').on('click', function () {\n        event.preventDefault();\n        var $this = $(this);\n        player[i].stopVideo();\n        $this.closest('.js-video-wrapper').removeClass('play').find('.js-play-button').removeClass('start');\n      });\n    });\n  }; // Target your .container, .wrapper, .post, etc.\n  // $(\".js_wrapper_el_video\").fitVids();\n\n  /***********************************/\n\n  /* BUTTON CREATIVE ANIMATE */\n\n  /**********************************/\n\n\n  function startBtnAnimate() {\n    var btnCreative = $('.a-btn.creative, .a-btn-2.creative').not('.anima');\n\n    if (btnCreative.length) {\n      for (var i = 0; i < btnCreative.length; i++) {\n        if ($(window).scrollTop() >= $(btnCreative[i]).offset().top - $(window).height() * 1.4) {\n          $(btnCreative[i]).addClass('anima');\n        }\n      }\n    }\n  }\n  /***********************************/\n\n  /* FIGURES ANIMATE & WIDTH */\n\n  /**********************************/\n\n\n  function startFigureAnimate() {\n    var figureCreative = $('.trans_figures.enable_anima').not('.animation');\n\n    if (figureCreative.length) {\n      for (var i = 0; i < figureCreative.length; i++) {\n        if ($(window).scrollTop() >= $(figureCreative[i]).offset().top - $(window).height() * 0.9) {\n          $(figureCreative[i]).addClass('animation');\n        }\n      }\n    }\n  }\n\n  function cirleFigure() {\n    var circleFigure = $('.team-wrapper.circle');\n\n    if (circleFigure.length) {\n      for (var i = 0; i < circleFigure.length; i++) {\n        var circle = $(circleFigure[i]).find('.team-outer');\n        var circleHeight = circle.height();\n        circle.css('width', circleHeight);\n      }\n    }\n  }\n  /* ADD ZERO FUNCTION */\n\n\n  var currentSwiper, totalSwiper;\n\n  function ifZero(current, total) {\n    currentSwiper = current + 1 < 10 ? '0' + (current + 1) : current + 1;\n    totalSwiper = total < 10 ? '0' + total : total;\n  }\n  /*---------------*/\n\n  /* SWIPER SLIDER */\n\n  /*---------------*/\n\n\n  function initSwiper() {\n    if ($('.full_showcase_slider').length) {\n      var attrsToSize = {\n        'data-lg-slides': '1600',\n        'data-md-slides': '1300',\n        'data-sm-slides': '992',\n        'data-xs-slides': '768'\n      };\n    } else {\n      var attrsToSize = {\n        'data-lg-slides': '1200',\n        'data-md-slides': '992',\n        'data-sm-slides': '768',\n        'data-xs-slides': '599'\n      };\n    }\n\n    function parseSlidesAttrValue(value) {\n      var parts = value.split(',');\n      return {\n        slidesPerView: parseInt(parts[0], 10),\n        spaceBetween: parseInt(parts[1], 10)\n      };\n    }\n\n    function createBreakpoints(container, attrsToSize) {\n      var breakpointsObj = {};\n      $.each(attrsToSize, function (key, value) {\n        if (container.attr(key)) {\n          breakpointsObj[value] = parseSlidesAttrValue(container.attr(key));\n        }\n      });\n      return breakpointsObj;\n    }\n\n    function setMousewheel(activeIndex, slidesNum, container) {\n      if (activeIndex == slidesNum - 1) {\n        $(window).bind('mousewheel', function (event) {\n          if (event.originalEvent.wheelDelta >= 0) {\n            container.enableMousewheelControl();\n          } else {\n            container.disableMousewheelControl();\n          }\n        });\n      } else if (activeIndex == 0) {\n        $(window).bind('mousewheel', function (event) {\n          if (event.originalEvent.wheelDelta >= 0) {\n            container.disableMousewheelControl();\n          } else {\n            container.enableMousewheelControl();\n          }\n        });\n      }\n    }\n\n    $('.swiper-container').each(function (index) {\n      var that = $(this);\n      var sliderIndex = 'swiper-unique-id-' + index;\n      that.addClass(sliderIndex + ' initialized').attr('id', sliderIndex);\n      that.find('.swiper-pagination').addClass('pagination-' + sliderIndex);\n\n      if (that.find('.swiper-slide').length <= 1) {\n        $('.slider-click[data-pagination-rel=\"' + that.data('pagination-rel') + '\"]').addClass('disabled');\n      }\n\n      var setThumb = function (activeIndex, slidesNum) {\n        var customSliderCurrent = that.find('.swiper-pagination-current'),\n            customSliderTotal = that.find('.swiper-pagination-total');\n        ifZero(activeIndex, slidesNum);\n        customSliderCurrent.text(currentSwiper);\n        customSliderTotal.text(totalSwiper);\n      };\n\n      var speedVar = parseInt(that.attr('data-speed'), 10);\n      var loopVar = parseInt(that.attr('data-loop'), 10);\n      var paginationType = that.attr('data-pagination-type') ? that.attr('data-pagination-type') : 'bullets';\n      var autoPlayVar = parseInt(that.attr('data-autoplay'), 10);\n      var autoHeightVar = parseInt(that.attr('data-autoheight'), 10);\n      var centerVar = $.isNumeric(that.attr('data-center')) ? parseInt(that.attr('data-center'), 10) : true;\n      var effectVar = that.attr('data-effect');\n      var mode = that.attr('data-mode');\n      var slidesPerViewVar = parseInt(that.attr('data-slides-per-view'), 10);\n      var spaceBetweenVar = parseInt(that.attr('data-space-between'), 10);\n      var mouseVar = $.isNumeric(that.attr('data-mouse')) ? parseInt(that.attr('data-mouse'), 10) : true;\n\n      if (isNaN(slidesPerViewVar)) {\n        slidesPerViewVar = 'auto';\n      }\n\n      swipers[sliderIndex] = new Swiper('.' + sliderIndex, {\n        pagination: '.pagination-' + sliderIndex,\n        paginationType: paginationType,\n        paginationClickable: true,\n        keyboardControl: true,\n        // Set to true to enable navigation through slides using keyboard right and left (for horizontal mode), top and borrom (for vertical mode) keyboard arrows\n        simulateTouch: true,\n        //If true, Swiper will accept mouse events like touch events (click and drag to change slides)\n        roundLengths: true,\n        //Set to true to round values of slides widt h and height to prevent blurry texts on usual resolution screens (if you have such)\n        autoplayDisableOnInteraction: false,\n        grabCursor: false,\n        watchSlidesProgress: true,\n        speed: speedVar,\n        loop: loopVar,\n        noSwiping: mouseVar,\n        autoplay: autoPlayVar,\n        autoHeight: autoHeightVar,\n        // Set to true and slider wrapper will adopt its height to the height of the currently active slide\n        centeredSlides: centerVar,\n        mousewheelControl: true,\n        effect: effectVar || 'slide',\n        direction: mode || 'horizontal',\n        slidesPerView: slidesPerViewVar,\n        spaceBetween: spaceBetweenVar || 0,\n        paginationCurrentClass: 'swiper-pagination-current',\n        paginationTotalClass: 'swiper-pagination-total',\n        // Navigation arrows\n        nextButton: '.swiper-button-next',\n        //CSS selector or HTML element of the element that will work like \"next\" button\n        prevButton: '.swiper-button-prev',\n        //CSS selector or HTML element of the element that will work like \"prev\" button\n        breakpoints: createBreakpoints(that, attrsToSize),\n        onInit: function (swiper) {\n          var totalSlides = $('.swiper-slide:not(.swiper-slide-duplicate)').length;\n\n          if ($('.banner-slider-wrap.andra').length) {\n            if (totalSlides < 10) {\n              $('.banner-slider-wrap.andra').find('.pag-wrapper').addClass('total-less10 current-less10');\n            }\n          }\n        },\n        onSlideChangeEnd: function (swiper) {\n          var totalSlides = that.find($('.swiper-slide:not(.swiper-slide-duplicate)')).length;\n\n          if ($('.projects-list-slider').length) {\n            setMousewheel(activeIndex, swiper.slides.length, swiper);\n          }\n        },\n        onSlideChangeStart: function (swiper) {\n          var activeIndex = loopVar == 1 ? swiper.realIndex : swiper.activeIndex;\n\n          if (that.parent().find('.swiper-pagination-bullet').length) {\n            that.parent().find('.swiper-pagination-bullet').removeClass('swiper-pagination-bullet-active').eq(activeIndex).addClass('swiper-pagination-bullet-active');\n          }\n        },\n        onSlideClick: function (swiper) {},\n        paginationBulletRender: function (swiper, index, className) {\n          if ($('.testimonials-swiper').length) {\n            var newIndex = swiper.activeIndex + index;\n            var newIndexAuthor = $(swiper.slides[newIndex]).find('.testimonials-author').html() || 'Guest';\n            return '<span class=\"' + className + '\">' + newIndexAuthor + '</span>';\n          }\n        }\n      });\n      swipers[sliderIndex].update();\n    });\n  }\n  /***********************************/\n\n  /* TESTIMONIALS */\n\n  /**********************************/\n\n\n  function testimonialsSliderHeight() {\n    var testimonialsWrapp = $('.testimonials-wrapper'),\n        testimonialsSlider = testimonialsWrapp.find('.testimonials-swiper'),\n        testimonialsItemHeight = testimonialsWrapp.find('.testimonials-item'),\n        maxHeight = 0;\n    testimonialsItemHeight.each(function () {\n      testimonialsItemHeight = parseInt($(this).innerHeight());\n\n      if (testimonialsItemHeight > maxHeight) {\n        maxHeight = testimonialsItemHeight;\n      }\n\n      ;\n    });\n    testimonialsSlider.css('height', maxHeight);\n  }\n  /***********************************/\n\n  /* COMING SOON */\n\n  /**********************************/\n\n\n  function comingSoonValue() {\n    if ($('.prague-coming-time-wrapper .coming-time-item').length) {\n      var comingSoonElements = $('.prague-coming-time-wrapper .coming-time-item');\n      comingSoonElements.each(function () {\n        var thisElement = $(this),\n            comingSoonElementsItem = thisElement.find('.name'),\n            text = comingSoonElementsItem.data('desktop'),\n            mobileText = comingSoonElementsItem.data('mobile');\n\n        if (winW < 768) {\n          comingSoonElementsItem.text(mobileText);\n        } else {\n          comingSoonElementsItem.text(text);\n        }\n      });\n    }\n  }\n\n  function getTimeRemaining(endtime) {\n    var t = Date.parse(endtime) - Date.parse(new Date());\n    var seconds = Math.floor(t / 1000 % 60);\n    var minutes = Math.floor(t / 1000 / 60 % 60);\n    var hours = Math.floor(t / (1000 * 60 * 60) % 24);\n    var days = Math.floor(t / (1000 * 60 * 60 * 24));\n    return {\n      'total': t,\n      'days': days,\n      'hours': hours,\n      'minutes': minutes,\n      'seconds': seconds\n    };\n  }\n\n  var prague_timeinterval;\n\n  function updateClock($clock, endTime, updateDays) {\n    var t = getTimeRemaining(endTime);\n\n    if (updateDays) {\n      t.days = t.days < 0 ? 0 : t.days;\n      $clock.find('.count-days').text(t.days);\n    }\n\n    if (updateDays || t.minutes === 59) {\n      t.hours = t.hours < 0 ? 0 : t.hours;\n      $clock.find('.count-hours').text(('0' + t.hours).slice(-2));\n    }\n\n    if (updateDays || t.seconds === 59) {\n      t.minutes = t.minutes < 0 ? 0 : t.minutes;\n      $clock.find('.count-mins').text(('0' + t.minutes).slice(-2));\n    }\n\n    t.seconds = t.seconds < 0 ? 0 : t.seconds;\n    $clock.find('.count-secs').text(('0' + t.seconds).slice(-2));\n\n    if (t.total <= 0) {\n      clearInterval(prague_timeinterval);\n    }\n  }\n\n  if ($('.prague-coming-time-wrapper').length) {\n    var comingTimeWrapper = $('.prague-coming-time-wrapper');\n    comingTimeWrapper.each(function () {\n      var self = $(this),\n          endTime = self.attr('data-end'),\n          $mask_clock = self.find('.coming-time-item');\n      updateClock($mask_clock, endTime, true);\n      prague_timeinterval = setInterval(function () {\n        updateClock($mask_clock, endTime);\n      }, 1000);\n    });\n  }\n  /***********************************/\n\n  /* INIT VIVUS FOR SVG */\n\n  /**********************************/\n\n\n  function initVivus() {\n    $('.prague-svg').each(function (index) {\n      var that = $(this);\n      var svgIndex = 'my-svg' + index;\n      that.addClass(svgIndex).attr('id', svgIndex);\n      vivus[svgIndex] = new Vivus(svgIndex, {\n        duration: 300\n      });\n    });\n  }\n  /***********************************/\n\n  /* FILMSTRIP SLIDER HEIGHT */\n\n  /**********************************/\n\n\n  function filmstripSliderHeight() {\n    if ($('.prague_filmstrip').not('no-footer-content')) {\n      var filmstripWrapperHeight = $('.prague_filmstrip').height(),\n          filmstripSlider = $('.filmstrip-slider'),\n          filmstripFooterHeight = $('.filmstrip-footer').innerHeight();\n      filmstripSlider.height(filmstripWrapperHeight - filmstripFooterHeight);\n    }\n  }\n  /***********************************/\n\n  /* FILMSTRIP FILTER */\n\n  /**********************************/\n  // DROPDOWN MENU\n\n\n  var dropdown = document.querySelectorAll('.prague-dropdown');\n  var dropdownArray = Array.prototype.slice.call(dropdown, 0);\n  dropdownArray.forEach(function (el) {\n    var button = el.querySelector('a[data-toggle=\"dropdown\"]'),\n        menu = el.querySelector('.prague-dropdown-menu'),\n        arrow = button.querySelector('i.icon-arrow');\n\n    button.onclick = function (event) {\n      if (!menu.hasClass('showee')) {\n        $(this).addClass('active');\n        menu.classList.add('showee');\n        menu.classList.remove('hidee');\n        arrow.classList.add('openee');\n        arrow.classList.remove('closee');\n        event.preventDefault();\n      } else {\n        $(this).removeClass('active');\n        menu.classList.remove('showee');\n        menu.classList.add('hidee');\n        arrow.classList.remove('openee');\n        arrow.classList.add('closee');\n        event.preventDefault();\n      }\n    };\n  });\n\n  Element.prototype.hasClass = function (className) {\n    return this.className && new RegExp(\"(^|\\\\s)\" + className + \"(\\\\s|$)\").test(this.className);\n  }; // FILTER\n\n\n  $('.filmstrip-filter .prague-dropdown-menu li').on('click', function (e) {\n    var filterValue = '.' + $(this).attr('data-filter');\n    $('.filmstrip-slider').slick('slickUnfilter');\n    $('.filmstrip-slider').slick('slickFilter', filterValue);\n    $('.prague-dropdown a[data-toggle=\"dropdown\"]').removeClass('active');\n    $('.prague-dropdown-menu').removeClass('showee');\n    $('.prague-dropdown-menu').addClass('hidee');\n    $('.prague-dropdown i.icon-arrow').removeClass('openee');\n    $('.prague-dropdown i.icon-arrow').addClass('closee');\n    e.preventDefault();\n  });\n  /***********************************/\n\n  /* TOP FILTER */\n\n  /**********************************/\n\n  function openTopFilter() {\n    $(this).toggleClass('active');\n    $('.filter-nav').find('i').toggleClass('fa-filter fa-times');\n    $('.prague_filter_projects').slideToggle();\n    $('.prague-header').toggleClass('open-filter');\n    $('body, html').toggleClass('no-scroll');\n  }\n\n  $('.filter-nav').on('click', function (e) {\n    openTopFilter();\n    e.preventDefault();\n  });\n  $('.prague_filter_projects .prague_filter_item li').on('click', function (e) {\n    $(this).toggleClass('active');\n    e.preventDefault();\n  });\n  $('.prague_filter_link_wrapper .filter-btn').on('click', function (e) {\n    var filterValue = [];\n    $('.prague_filter_projects [data-filter].active').each(function (i) {\n      filterValue[i] = '.' + $(this).attr('data-filter');\n    });\n    var separator = ',';\n\n    if ($(this).attr('data-filtering-type') == 'all_criteria') {\n      separator = '';\n    }\n\n    $('.prague_services, .prague_books, .prague_exhibition_grid, .prague_grid, .prague_masonry').isotope({\n      filter: filterValue.join(separator)\n    });\n    setTimeout(function () {\n      openTopFilter();\n    }, 100);\n    e.preventDefault();\n  });\n  $('.filter-clear-all').on('click', function (e) {\n    $('.prague_filter_projects .prague_filter_item li').removeClass('active');\n    e.preventDefault();\n  });\n  /***********************************/\n\n  /* TIMELINE SORTING */\n\n  /**********************************/\n\n  $('.project-time-list-header .time-list-header-col span').on('click', function (e) {\n    $(this).parent('.time-list-header-col').addClass('active').siblings().removeClass('active');\n    var sortingValue = $(this).parent('.time-list-header-col').attr('data-sort');\n    $('.prague_timeline_list').isotope({\n      sortBy: sortingValue\n    });\n    e.preventDefault();\n  });\n  /***********************************/\n\n  /* TIMELINE IMAGE HEIGHT & SCROLL */\n\n  /**********************************/\n\n  function timelineImageHeight() {\n    setTimeout(function () {\n      var timelineWrapper = $('.prague_timeline'),\n          timelineContentWrapperHeight = $('.project-timeline-content-wrapper').height();\n\n      if (winH < timelineContentWrapperHeight + 78) {\n        timelineWrapper.css('height', timelineContentWrapperHeight + 78);\n      } else {\n        timelineWrapper.css('height', winH);\n      }\n    }, 20);\n  }\n\n  $('.prague_timeline .project-timeline-item').on('click', function (e) {\n    e.preventDefault();\n    var $this = $(this),\n        this_position_top = $this.position().top,\n        $gallery_row = $('.timeline-img-item[data-unique-key=' + $this.data('post-key') + ']'),\n        item_height = $gallery_row.height(),\n        $gallery_wrapper = $('.project-timeline-img-wrapper'),\n        gallery_wrapper_height = $gallery_wrapper.height();\n    var scroll_to = $gallery_wrapper.scrollTop() + $gallery_row.position().top;\n    var this_offset_bottom = gallery_wrapper_height - this_position_top;\n\n    if (this_offset_bottom < item_height) {\n      scroll_to = scroll_to - gallery_wrapper_height + item_height - 45;\n    } else {\n      scroll_to = scroll_to - this_position_top + 15;\n    }\n\n    $gallery_wrapper.animate({\n      scrollTop: scroll_to\n    }, 500);\n    $('.timeline-img-item').removeClass('active');\n    $('.project-timeline-item').removeClass('active');\n    $this.addClass('active');\n    $gallery_row.addClass('active');\n  });\n  $('.prague_timeline .project-timeline-item .time-item-link').on('click', function (e) {\n    $('.prague_timeline .project-timeline-item').off('click');\n  });\n  $('.timeline-img-item').on('mouseenter', function () {\n    var data_unique_key = $(this).attr('data-unique-key');\n    $('.project-timeline-item').removeClass('active_hover');\n    $('.project-timeline-item[data-post-key=' + data_unique_key + ']').addClass('active_hover');\n  });\n  $('.timeline-img-item').on('mouseleave', function () {\n    $('.project-timeline-item').removeClass('active_hover');\n  });\n  /***********************************/\n\n  /* TIMELINE EXHIBITION */\n\n  /**********************************/\n\n  var scrollSelector = '.timeline-exh-nav-list li a',\n      // selector menu link\n  active_class = 'active',\n      time = 1000,\n      contentTop = {},\n      contentOffset = 0,\n      currentAnchor = window.location.hash,\n      scrollFlag = 0; // Fill object with scroll blocks data (offset and height)\n\n  window.setContentTopObject = function () {\n    contentTop = {};\n    $(scrollSelector).each(function () {\n      if (this.hash && $(this.hash).length) {\n        $(this).attr('data-id', this.hash);\n        var $this = $(this.hash);\n        var offset_top = $this.offset().top;\n        contentTop[this.hash] = {\n          'top': Math.round(offset_top - contentOffset),\n          'bottom': Math.round(offset_top - contentOffset + $this.outerHeight())\n        };\n      }\n    });\n  };\n  /* $(window).on('load', function(){\n      setContentTopObject();\n  });\n   $(window).on('resize', function(){\n      setContentTopObject();\n  });\n  */\n\n\n  function setImmediateAnchor(anchor, time) {\n    if (anchor && $(anchor.hash).length) {\n      scrollFlag = 1;\n      var link_hash = anchor.hash;\n      link_hash = $('[data-id=\"' + link_hash + '\"]').position().top;\n      $('html, body').stop().animate({\n        'scrollTop': link_hash\n      }, time, function () {\n        if (history.pushState) {\n          history.pushState(null, null, link_hash);\n        } else {\n          location.hash = link_hash;\n        }\n\n        currentAnchor = link_hash;\n        scrollFlag = 0;\n        $(scrollSelector).removeClass(active_class);\n        $(scrollSelector + '[data-id=\"' + currentAnchor + '\"]').addClass(active_class);\n      });\n    }\n  }\n  /*$(window).on('load', function(){\n      if ( $(window).scrollTop() > 0 && location.hash ) {\n          setImmediateAnchor(location,1000);\n      };\n  });*/\n  //setImmediateAnchor($(scrollSelector+'[href=\"'+location.href.split('#')[0]+currentAnchor+'\"]')[0], 1);\n\n\n  function stickyTimeline() {\n    // current distance top\n    var stickyTop = $('.prague_exhibition_timeline').offset().top,\n        scrollTop = $(window).scrollTop(); // if we scroll more than the navigation, change its position to fixed and add class 'fxd', otherwise change it back to absolute and remove the class\n\n    if (scrollTop > stickyTop) {\n      $('.project-timeline-exh-nav').css({\n        'position': 'fixed',\n        'top': 0\n      }).addClass('fxd'); // add padding to the body to make up for the loss in heigt when the menu goes to a fixed position.\n      // When an item is fixed, its removed from the flow so its height doesnt impact the other items on the page\n    } else {\n      $('.project-timeline-exh-nav').css('position', 'absolute').removeClass('fxd'); //remove the padding we added.\n    }\n  }\n\n  ; // Animate scroll after clicking menu link\n\n  $(scrollSelector).on('click', function (e) {\n    e.preventDefault(); //check dom element\n\n    if (!this.hash && !$(this.hash).length) {\n      return true;\n    }\n\n    stickyTimeline();\n    setImmediateAnchor(this, 1000);\n  });\n\n  function setScrollAnchor() {\n    if (!scrollFlag) {\n      var scrollPositionTop = $(window).scrollTop();\n\n      for (var p in contentTop) {\n        if (contentTop[p].top <= scrollPositionTop && contentTop[p].bottom > scrollPositionTop && currentAnchor != p) {\n          $(scrollSelector).removeClass(active_class);\n\n          if (history.pushState) {\n            history.pushState(null, null, p);\n          } else {\n            location.hash = p;\n          }\n\n          $(scrollSelector).parent().removeClass(active_class);\n          $(scrollSelector + '[data-id=\"' + p + '\"]').addClass(active_class);\n          currentAnchor = p;\n          break;\n        }\n      }\n    }\n  }\n  /*$('html, body').on('wheel',  function(e){\n      stickyTimeline();\n  });\n  $('html, body').on('scroll mousedown DOMMouseScroll mousewheel keyup', function(e){\n           if ( (e.which > 0 || e.type == 'mousedown' || e.type == 'mousewheel') && scrollFlag ){\n              $('html,body').stop();\n              scrollFlag = 0;\n              setScrollAnchor();\n          } else {\n              if (!scrollFlag) {\n                  scrollFlag = 0;\n                  setScrollAnchor();\n              };\n          }\n  });*/\n\n  /***********************************/\n\n  /* SLICK SLIDER*/\n\n  /**********************************/\n\n\n  function initSlick() {\n    $('.filmstrip-slider').each(function (index) {\n      var that = $(this);\n      var sliderIndex = 'slick-unique-id-' + index;\n      that.addClass(sliderIndex + ' initialized').attr('id', sliderIndex);\n      var accessibilityVar = parseInt(that.attr('data-key'), 10);\n      var arrowsVar = parseInt(that.attr('data-arrows'), 10);\n      var autoPlayVar = parseInt(that.attr('data-autoplay'), 10);\n      var autoPlaySpeedVar = parseInt(that.attr('data-autoplay-speed'), 10);\n      var speedVar = parseInt(that.attr('data-speed'), 10);\n      that.slick({\n        dots: false,\n        slidesToScroll: 1,\n        variableWidth: true,\n        infinite: false,\n        centerMode: false,\n        prevArrow: '<a href=\"#\" class=\"slick-prev\"></a>',\n        nextArrow: '<a href=\"#\" class=\"slick-next\"></a>',\n        accessibility: !!accessibilityVar,\n        arrows: !!arrowsVar,\n        autoplay: !!autoPlayVar,\n        autoplaySpeed: autoPlaySpeedVar,\n        speed: speedVar\n      });\n      setTimeout(function () {\n        that[index].slick.refresh();\n      }, 0);\n    });\n  }\n\n  function initProjectDetailSlider() {\n    var main = $('.project-detail-main-slider');\n    var thumb = $('.project-detail-thumb-slider');\n\n    if (main.length) {\n      var accessibilityVar = parseInt(main.attr('data-key'), 10);\n      var arrowsVar = parseInt(main.attr('data-arrows'), 10);\n      var autoPlayVar = parseInt(main.attr('data-autoplay'), 10);\n      var autoPlaySpeedVar = parseInt(main.attr('data-autoplay-speed'), 10);\n      var speedVar = parseInt(main.attr('data-speed'), 10);\n      var variableWidthVar = parseInt(main.attr('data-width'), 10);\n      var fadeVar = parseInt(main.attr('data-fade'), 10);\n      var asNavForVar = main.attr('data-for');\n      var focusOnSelectVar = parseInt(main.attr('data-focus'), 10);\n      var slidesToShowVar = parseInt(main.attr('data-slides'), 10);\n      var verticalVar = parseInt(main.attr('data-vertical'), 10);\n      var verticalSwipingVar = parseInt(main.attr('data-vertical-swiping'), 10);\n      main.slick({\n        dots: false,\n        slidesToScroll: 1,\n        infinite: true,\n        centerMode: false,\n        prevArrow: '<a href=\"#\" class=\"slick-prev\"></a>',\n        nextArrow: '<a href=\"#\" class=\"slick-next\"></a>',\n        cssEase: 'linear',\n        slidesToShow: slidesToShowVar,\n        accessibility: !!accessibilityVar,\n        arrows: !!arrowsVar,\n        autoplay: !!autoPlayVar,\n        autoplaySpeed: autoPlaySpeedVar,\n        speed: speedVar,\n        variableWidth: !!variableWidthVar,\n        fade: !!fadeVar,\n        asNavFor: asNavForVar,\n        focusOnSelect: !!focusOnSelectVar,\n        vertical: !!verticalVar,\n        verticalSwiping: !!verticalSwipingVar\n      });\n    }\n\n    if (thumb.length) {\n      var accessibilityVar = parseInt(thumb.attr('data-key'), 10);\n      var arrowsVar = parseInt(thumb.attr('data-arrows'), 10);\n      var autoPlayVar = parseInt(thumb.attr('data-autoplay'), 10);\n      var autoPlaySpeedVar = parseInt(thumb.attr('data-autoplay-speed'), 10);\n      var speedVar = parseInt(thumb.attr('data-speed'), 10);\n      var variableWidthVar = parseInt(thumb.attr('data-width'), 10);\n      var fadeVar = parseInt(thumb.attr('data-fade'), 10);\n      var asNavForVar = thumb.attr('data-for');\n      var focusOnSelectVar = parseInt(thumb.attr('data-focus'), 10);\n      var slidesToShowVar = parseInt(thumb.attr('data-slides'), 10);\n      var verticalVar = parseInt(thumb.attr('data-vertical'), 10);\n      var verticalSwipingVar = parseInt(thumb.attr('data-vertical-swiping'), 10);\n      thumb.slick({\n        dots: false,\n        slidesToScroll: 1,\n        infinite: true,\n        centerMode: false,\n        prevArrow: '<a href=\"#\" class=\"slick-prev\"></a>',\n        nextArrow: '<a href=\"#\" class=\"slick-next\"></a>',\n        cssEase: 'linear',\n        slidesToShow: slidesToShowVar,\n        accessibility: !!accessibilityVar,\n        arrows: !!arrowsVar,\n        autoplay: !!autoPlayVar,\n        autoplaySpeed: autoPlaySpeedVar,\n        speed: speedVar,\n        variableWidth: !!variableWidthVar,\n        fade: !!fadeVar,\n        asNavFor: asNavForVar,\n        focusOnSelect: !!focusOnSelectVar,\n        vertical: !!verticalVar,\n        verticalSwiping: !!verticalSwipingVar,\n        responsive: [{\n          breakpoint: 768,\n          settings: {\n            slidesToShow: 2,\n            slidesToScroll: 1,\n            vertical: false,\n            verticalSwiping: false\n          }\n        }]\n      });\n    }\n  }\n\n  function initProjectDetailFullScreen() {\n    var main = $('.project-detail-full-main');\n    var thumb = $('.project-detail-full-thumb');\n\n    if (main.length) {\n      var accessibilityVar = parseInt(main.attr('data-key'), 10);\n      var arrowsVar = parseInt(main.attr('data-arrows'), 10);\n      var autoPlayVar = parseInt(main.attr('data-autoplay'), 10);\n      var autoPlaySpeedVar = parseInt(main.attr('data-autoplay-speed'), 10);\n      var speedVar = parseInt(main.attr('data-speed'), 10);\n      var variableWidthVar = parseInt(main.attr('data-width'), 10);\n      var fadeVar = parseInt(main.attr('data-fade'), 10);\n      var asNavForVar = main.attr('data-for');\n      var focusOnSelectVar = parseInt(main.attr('data-focus'), 10);\n      var slidesToShowVar = parseInt(main.attr('data-slides'), 10);\n      var verticalVar = parseInt(main.attr('data-vertical'), 10);\n      var verticalSwipingVar = parseInt(main.attr('data-vertical-swiping'), 10);\n      main.slick({\n        dots: false,\n        slidesToScroll: 1,\n        infinite: true,\n        centerMode: false,\n        prevArrow: '<a href=\"#\" class=\"slick-prev\"></a>',\n        nextArrow: '<a href=\"#\" class=\"slick-next\"></a>',\n        cssEase: 'linear',\n        slidesToShow: slidesToShowVar,\n        accessibility: !!accessibilityVar,\n        arrows: !!arrowsVar,\n        autoplay: !!autoPlayVar,\n        autoplaySpeed: autoPlaySpeedVar,\n        speed: speedVar,\n        variableWidth: !!variableWidthVar,\n        fade: !!fadeVar,\n        asNavFor: asNavForVar,\n        focusOnSelect: !!focusOnSelectVar,\n        vertical: !!verticalVar,\n        verticalSwiping: !!verticalSwipingVar\n      });\n    }\n\n    if (thumb.length) {\n      var accessibilityVar = parseInt(thumb.attr('data-key'), 10);\n      var arrowsVar = parseInt(thumb.attr('data-arrows'), 10);\n      var autoPlayVar = parseInt(thumb.attr('data-autoplay'), 10);\n      var autoPlaySpeedVar = parseInt(thumb.attr('data-autoplay-speed'), 10);\n      var speedVar = parseInt(thumb.attr('data-speed'), 10);\n      var variableWidthVar = parseInt(thumb.attr('data-width'), 10);\n      var fadeVar = parseInt(thumb.attr('data-fade'), 10);\n      var asNavForVar = thumb.attr('data-for');\n      var focusOnSelectVar = parseInt(thumb.attr('data-focus'), 10);\n      var slidesToShowVar = parseInt(thumb.attr('data-slides'), 10);\n      var verticalVar = parseInt(thumb.attr('data-vertical'), 10);\n      var verticalSwipingVar = parseInt(thumb.attr('data-vertical-swiping'), 10);\n      thumb.slick({\n        dots: false,\n        slidesToScroll: 1,\n        infinite: true,\n        centerMode: false,\n        prevArrow: '<a href=\"#\" class=\"slick-prev\"></a>',\n        nextArrow: '<a href=\"#\" class=\"slick-next\"></a>',\n        cssEase: 'linear',\n        slidesToShow: slidesToShowVar,\n        accessibility: !!accessibilityVar,\n        arrows: !!arrowsVar,\n        autoplay: !!autoPlayVar,\n        autoplaySpeed: autoPlaySpeedVar,\n        speed: speedVar,\n        variableWidth: !!variableWidthVar,\n        fade: !!fadeVar,\n        asNavFor: asNavForVar,\n        focusOnSelect: !!focusOnSelectVar,\n        vertical: !!verticalVar,\n        verticalSwiping: !!verticalSwipingVar,\n        responsive: [{\n          breakpoint: 1200,\n          settings: {\n            slidesToShow: 2,\n            slidesToScroll: 1,\n            vertical: false,\n            verticalSwiping: false\n          }\n        }]\n      });\n    }\n  }\n\n  $('.project-detail-full-overlay .icon').on('click', function () {\n    $('.project-detail-full-overlay').toggleClass('open');\n    $('.project-detail-full-thumb').toggleClass('open');\n    $('.project-detail-fullscreen-content').toggleClass('open');\n    $('.prague-header').toggleClass('open-detail');\n  });\n  /***********************************/\n\n  /* PROJECT LIST SLIDER */\n\n  /**********************************/\n\n  function scrollCenterProjectList() {\n    var projectList = $('.prague_list');\n\n    if (projectList.length) {\n      for (var i = 0; i < projectList.length; i++) {\n        if ($(window).scrollTop() >= $(projectList[i]).offset().top - $(window).height() * 0.5) {\n          $('html, body').animate({\n            scrollTop: $(projectList[i]).offset().top\n          }, 1000);\n        }\n      }\n    }\n  }\n  /***********************************/\n\n  /* PROJECT CATEGORIES */\n\n  /**********************************/\n\n\n  if ($('.prague-categories-outer').length) {\n    var categoriesOuter = $('.prague-categories-outer');\n    $(categoriesOuter).each(function () {\n      var _this = $(this);\n\n      if (!$(_this).prev('.prague-categories-outer').length) {\n        $(_this).find('.categories_btn_up').addClass('hide');\n      }\n\n      if (!$(_this).next('.prague-categories-outer').length) {\n        $(_this).find('.categories_btn_down').addClass('hide');\n      }\n    });\n  }\n\n  $('.prague_categories_btn .categories_btn_up').on('click', function () {\n    var prevCategory = $(this).closest('.prague-categories-outer').prev('.prague-categories-outer').offset().top;\n    $('html, body').animate({\n      scrollTop: prevCategory\n    }, 1000);\n  });\n  $('.prague_categories_btn .categories_btn_down').on('click', function () {\n    var nextCategory = $(this).closest('.prague-categories-outer').next('.prague-categories-outer').offset().top;\n    $('html, body').animate({\n      scrollTop: nextCategory\n    }, 1000);\n  });\n  /***********************************/\n\n  /* PORTFOLIO */\n\n  /**********************************/\n\n  function pragueGrid() {\n    var block = '.prague_services, .prague_books, .prague_media, .prague_exhibition_grid, .prague_grid';\n\n    if ($(block).length) {\n      var $portfolioGrid = $(block),\n          $portfolioItemWrapp = $portfolioGrid.find('.portfolio-item-wrapp');\n      isotopeGridVar = $portfolioGrid.isotope({\n        itemSelector: '.portfolio-item-wrapp',\n        layoutMode: 'fitRows'\n      });\n    }\n  }\n\n  function pragueMasonry() {\n    var block = '.prague_masonry';\n\n    if ($(block).length) {\n      var $portfolioMasonry = $(block),\n          $portfolioItemWrapp = $portfolioMasonry.find('.portfolio-item-wrapp');\n      isotopeMasonryVar = $portfolioMasonry.isotope({\n        itemSelector: '.portfolio-item-wrapp',\n        percentPosition: true\n      });\n    }\n  }\n\n  function pragueTimelineList() {\n    var block = '.prague_timeline_list';\n\n    if ($(block).length) {\n      var $portfolioTimeline = $(block);\n      $portfolioTimeline.isotope({\n        getSortData: {\n          first: '.cat1',\n          title: '.time-list-item-title a',\n          third: '.cat3',\n          fourth: '.cat4'\n        }\n      });\n    }\n  }\n  /***********************************/\n\n  /* PROJECT DETAIL PARALLAX */\n\n  /**********************************/\n\n\n  function parallaxDetailHeigth() {\n    if ($('.project-detail-parallax').length) {\n      $('html').css({// 'height': '100%',\n        // 'overflow-x': 'visible'\n      });\n      $('body').css({// 'overflow-x': 'visible'\n      });\n    }\n  }\n\n  var Parallax = {\n    selector: '.js-detail-parallax-item-bg',\n    covers: $([]),\n    amount: 0,\n    initialized: false,\n    start: 0,\n    stop: 0,\n    initialize: function () {\n      var that = this;\n      $('.project-detail-parallax-item').each(function (i, hero) {\n        var $hero = $(hero),\n            $cover = $hero.children('.detail-parallax-item-bg'),\n            $image = $cover.find('img');\n        $hero.find('.detail-parallax-item-bg').show();\n\n        if (!$image.length) {\n          $image = $cover.children('picture').children('img');\n        }\n\n        if ($image.length) {\n          var scaleY,\n              scale,\n              newWidth,\n              imageWidth = $image.css('width', 'auto').outerWidth(),\n              imageHeight = $image.outerHeight(),\n              // heroHeight = $hero.outerHeight(),\n          heroHeight = winH,\n              scaleX = winW / imageWidth;\n          scaleY = winH / imageHeight;\n          scale = Math.max(scaleX, scaleY);\n          newWidth = parseInt(imageWidth * scale);\n          $image.css({\n            top: (heroHeight - imageHeight * scale) / 2,\n            width: newWidth\n          });\n          $hero.css({\n            height: heroHeight\n          });\n        }\n      }); // if this is a touch device initialize simple image\n\n      if (_ismobile) {\n        $('.project-detail-parallax').addClass('touch');\n        return;\n      }\n\n      documentHeight = $(document).height(); // documentHeight = $('.js-detail-parallax-item-bg').length * winH;\n      // this.stop = documentHeight - winH;\n      // this.stop = $('.project-detail-parallax').height();\n\n      this.amount = $('.project-detail-parallax').data('parallax-speed');\n      this.initialized = true; // clean up\n\n      $('.project-detail-parallax-cover').empty();\n      $('.js-detail-parallax-item-bg').each(function (i, cover) {\n        // grab all the variables we need\n        var $cover = $(cover),\n            opacity = $cover.css('opacity'),\n            $target = $cover.children().not('span'),\n            $image = $target.filter('img'),\n            $slider = $target.not('img'),\n            $clone = $cover.clone(),\n            $cloneTarget = $clone.children().not('span'),\n            $cloneImage = $cloneTarget.filter('img'),\n            $cloneSlider = $cloneTarget.not('img'),\n            imageWidth = $image.outerWidth(),\n            imageHeight = $image.outerHeight(),\n            $hero = $cover.parent(),\n            // heroHeight = $hero.outerHeight(),\n        heroHeight = winH,\n            heroOffset = $hero.offset(),\n            adminBar = parseInt($html.css('marginTop')),\n            amount = that.amount,\n            // we may need to scale the image up or down\n        // so we need to find the max scale of both X and Y axis\n        scaleX,\n            scaleY,\n            scale,\n            newWidth,\n            distance,\n            speeds = {\n          static: 0,\n          slow: 0.25,\n          medium: 0.5,\n          fast: 0.75,\n          fixed: 1\n        };\n        $cover.removeAttr('style');\n        $clone.data('source', $cover).appendTo('.project-detail-parallax-cover').show();\n        $clone.css('height', heroHeight); // let's see if the user wants different speed for different whateva'\n\n        if (typeof parallax_speeds !== \"undefined\") {\n          $.each(speeds, function (speed, value) {\n            if (typeof parallax_speeds[speed] !== \"undefined\") {\n              if ($hero.is(parallax_speeds[speed])) {\n                amount = value;\n              }\n            }\n          });\n        }\n\n        scaleX = winW / imageWidth;\n        scaleY = (heroHeight + (winH - heroHeight) * amount) / imageHeight;\n        scale = Math.max(scaleX, scaleY);\n        newWidth = parseInt(imageWidth * scale);\n        distance = (winH - heroHeight) * amount; // set the new width, the image should have height: auto to scale properly\n\n        $cloneImage.css({\n          width: newWidth,\n          top: (heroHeight - imageHeight * scale) / 2\n        }); // if there's a slider we are working with we may have to set the height\n        // $cloneSlider.css('height', heroHeight + distance);\n        // align the clone to its surrogate\n        // we use TweenMax cause it'll take care of the vendor prefixes\n\n        TweenMax.to($clone, 0, {\n          y: heroOffset.top - adminBar\n        }); // prepare image / slider timeline\n\n        var parallax = {\n          start: heroOffset.top - winH,\n          // end: heroOffset.top + heroHeight,\n          end: heroOffset.top + winH,\n          timeline: new TimelineMax({\n            paused: true\n          })\n        },\n            // the container timeline\n        parallax2 = {\n          start: 0,\n          end: documentHeight,\n          // end: winH,\n          timeline: new TimelineMax({\n            paused: true\n          })\n        }; // move the image for a parallax effect\n\n        parallax.timeline.fromTo($cloneTarget, 1, {\n          y: '-=' + (winH + heroHeight) * amount / 2\n        }, {\n          y: '+=' + (winH + heroHeight) * amount,\n          ease: Linear.easeNone,\n          force3D: true\n        }); // parallax.timeline.fromTo($cloneSlider.find('.hero__content, .hero__caption'), 1, {\n        //     y: '+=' + winH * amount\n        // }, {\n        //     y: '-=' + winH * amount * 2,\n        //     ease: Linear.easeNone,\n        //     force3D: true\n        // }, '-=1');\n        // move the container to match scrolling\n\n        parallax2.timeline.fromTo($clone, 1, {\n          y: heroOffset.top\n        }, {\n          y: heroOffset.top - documentHeight,\n          // y: heroOffset.top - winH,\n          // y: heroOffset.top - $html.height(),\n          ease: Linear.easeNone,\n          force3D: true\n        }); // set the parallax info as data attributes on the clone to be used on update\n\n        $clone.data('parallax', parallax).data('parallax2', parallax2); // update progress on the timelines to match current scroll position\n\n        that.update();\n      });\n    },\n    update: function () {\n      if (_ismobile) {\n        return;\n      }\n\n      $('.project-detail-parallax-cover .detail-parallax-item-bg').each(function (i, cover) {\n        var $cover = $(cover),\n            parallax = $cover.data('parallax'),\n            parallax2 = $cover.data('parallax2'),\n            progress = (latestKnownScrollY - parallax.start) / (parallax.end - parallax.start),\n            progress2 = (latestKnownScrollY - parallax2.start) / (parallax2.end - parallax2.start);\n\n        if (0 <= progress && 1 >= progress) {\n          parallax.timeline.progress(progress);\n        }\n\n        if (0 <= progress2 && 1 >= progress2) {\n          parallax2.timeline.progress(progress2);\n        }\n      });\n    }\n  };\n  /***********************************/\n\n  /* PROJECT DETAIL BEFORE AFTER */\n\n  /**********************************/\n\n  function beforeAfter() {\n    if ($('.ba-slider').length) {\n      $('.ba-slider').beforeAfter();\n    }\n  }\n  /* Share popup */\n\n\n  $('[data-share]').on('click', function () {\n    var w = window,\n        url = this.getAttribute('data-share'),\n        title = '',\n        w_pop = 600,\n        h_pop = 600,\n        scren_left = w.screenLeft ? w.screenLeft : screen.left,\n        scren_top = w.screenTop ? w.screenTop : screen.top,\n        width = w.innerWidth,\n        height = w.innerHeight,\n        left = width / 2 - w_pop / 2 + scren_left,\n        top = height / 2 - h_pop / 2 + scren_top,\n        newWindow = w.open(url, title, 'scrollbars=yes, width=' + w_pop + ', height=' + h_pop + ', top=' + top + ', left=' + left);\n\n    if (w.focus) {\n      newWindow.focus();\n    }\n\n    return false;\n  }); // (function ( $ ) {\n  //     $.fn.foxParalax = function(a) {\n  //         var is_on_screen = function(el){\n  //             var scrolled = $(window).scrollTop();\n  //             var win = $(window);\n  //             var viewport = {\n  //                 top : win.scrollTop(),\n  //                 left : win.scrollLeft()\n  //             };\n  //             //viewport.right = viewport.left + win.width();\n  //             viewport.bottom = viewport.top + win.height();\n  //             var bounds = $(el).offset();\n  //             //bounds.right = bounds.left + el.outerWidth();\n  //             bounds.bottom = bounds.top + $(el).outerHeight();\n  //             return (!(viewport.bottom < bounds.top || viewport.top > bounds.bottom));\n  //         }\n  //         return this.each(function() {\n  //             var offsetEl = $(this).position().top,\n  //                 el = this;\n  //             $(window).scroll(function(e){\n  //                 if (is_on_screen(el)) {\n  //                     var scrolled = $(window).scrollTop(),\n  //                         moveTop = scrolled * 0.15; //speed;\n  //                     if ( $(el).hasClass('column_paralax') ) {\n  //                           $(el).css({\n  //                             \"transform\":\"translateY(-\" + moveTop+\"px)\"\n  //                           });\n  //                     } else {\n  //                          $(el).find('.project-grid-item-img').css({\n  //                             \"background-position\" : \"0 -\" + (moveTop/2)+\"px\"\n  //                           });\n  //                     }\n  //                 }\n  //             });\n  //         });\n  //     }\n  // }( jQuery ));\n\n  /***********************************/\n\n  /* LOAD MORE */\n\n  /**********************************/\n\n  $('.load').on('click', function (e) {\n    $('.button-hide').addClass('button-show');\n    pragueGrid();\n    $('.load-btn').fadeOut(500);\n  });\n  /***********************************/\n\n  /* PROTECTED PAGE */\n\n  /**********************************/\n\n  $('.protect-page').on('submit', function (e) {\n    e.preventDefault();\n\n    if ($('#pwbox-1234').val() == \"enter\") {\n      $('.protect-main-content').fadeOut(1000);\n      $('.gallery-hidden').fadeIn(2000);\n      pragueGrid();\n    } else if ($('#pwbox-1234').val() == \"\") {\n      $('.prague-protected-content p').html('<p>(Please, add the password)</p>');\n    } else {\n      $('.prague-protected-content p').html('<p>(You entered the wrong password)</p>');\n    }\n  });\n  $('.js-load-more-btn').on('click', function (e) {\n    var $btn = $(this),\n        $btnText = $btn.html();\n    $btn.html('LOADING...');\n    var $wrapper = $btn.closest('[data-unique-key]'),\n        uniqueKey = $wrapper.data('unique-key'),\n        $container = $wrapper.find('.js-load-more-block');\n    var pageNum = parseInt($wrapper.attr('data-start-page'));\n    var max = parseInt($wrapper.attr('data-max-page'));\n    var nextLink = $wrapper.attr('data-next-link');\n\n    if (pageNum <= max) {\n      $.ajax({\n        url: nextLink,\n        type: 'POST',\n        success: function (data) {\n          var html = $(data).find('[data-unique-key=\"' + uniqueKey + '\"]').find('.js-load-more-block').children('.js-filter-simple-block');\n          var $items = $(html);\n\n          if (window.enable_foxlazy) {\n            setTimeout(function () {\n              $('img').foxlazy();\n              $(window).trigger(\"load.foxlazy\");\n            }, 500);\n          }\n\n          if ($container.hasClass('prague-blog-grif-outer') || $container.hasClass('prague_blog')) {\n            // console.log('second');\n            $container.append($items);\n            wpc_add_img_bg('.s-img-switch');\n          } else {\n            console.log('here');\n            setTimeout(function () {\n              $container.append($items);\n              $container.isotope('appended', $items);\n              wpc_add_img_bg('.s-img-switch');\n            }, 500);\n          }\n\n          $btn.html($btnText);\n          $wrapper.attr('data-start-page', ++pageNum);\n          nextLink = nextLink.replace(/\\/$/, ''); //   console.log(nextLink);\n\n          var newLink = createNewLink(nextLink);\n          nextLink = newLink + (pageNum + 1); //   nextLink = nextLink.replace(/\\/page\\/[0-9]?/, '/page/'+ (pageNum + 1));\n\n          $wrapper.attr('data-next-link', nextLink);\n\n          if (pageNum == max) {\n            $btn.hide('fast');\n          } //              if (isotopeMasonryVar) {\n          //                 setTimeout(function(){\n          //                     isotopeMasonryVar.isotope('layout');\n          //                 },0);\n          //              } else if (isotopeGridVar) {\n          //                 setTimeout(function(){\n          //                     isotopeGridVar.isotope('layout');\n          //                 },0);\n          //              }\n\n        }\n      });\n    }\n\n    return false;\n  });\n\n  function createNewLink(link) {\n    var numberLength = 0;\n    var oldString = link;\n    var newReverseStr = link.split(\"\").reverse().join(\"\");\n    newReverseStr = newReverseStr.split(\"\");\n\n    for (var i = 0; i < newReverseStr.length; i++) {\n      if (isNaN(newReverseStr[i])) {\n        break;\n      } else {\n        numberLength++;\n      }\n    }\n\n    oldString = oldString.slice(0, -numberLength);\n    return oldString;\n  }\n\n  function imgWooHeight() {\n    $('.flex-viewport').css('height', $('.flex-active-slide img').height());\n  }\n\n  $('.flex-control-thumbs li').on('click', function () {\n    setTimeout(function () {\n      $('.flex-viewport').css('height', $('.flex-active-slide img').height());\n    }, 100);\n  });\n  pageCalculations(function () {\n    wpc_add_img_bg('.s-img-switch');\n    pageHeightCalculate();\n    pageOnlyFullHeight('.prague_filmstrip');\n    pageOnlyFullHeight('.projects-detail-before-banner.fullheight');\n    pageOnlyFullHeight('.project-detail-fullscreen');\n    topFullBannerHeight();\n    upFullWidthVideo();\n    cirleFigure();\n    comingSoonValue();\n    filmstripSliderHeight();\n    timelineImageHeight();\n    Parallax.initialize();\n    setHeightAllIframe();\n    imgWooHeight();\n  });\n  /* Lazy load */\n\n  if (window.enable_foxlazy) {\n    // for all image\n    $('img').foxlazy('', function () {\n      if (isotopeMasonryVar) {\n        setTimeout(function () {\n          isotopeMasonryVar.isotope('layout');\n        }, 1000);\n      }\n\n      if (isotopeGridVar) {\n        isotopeGridVar.isotope('layout');\n      }\n    });\n  }\n  /***********************************/\n\n  /* ACCORDIONS */\n\n  /**********************************/\n\n\n  $('.woocommerce-tabs').on('click', '.tabs-title', function () {\n    var thisItem = this;\n    var thisParent = $(thisItem).parent('.tabs-item-wrapp');\n    var siblings = $(thisItem).siblings('.panel');\n\n    if ($(thisItem).siblings('.panel').length > 0 && $(thisItem).siblings('.panel').css('display') === 'none') {\n      $(siblings).slideDown(400, function () {});\n      $(thisParent).addClass('active').siblings('.tabs-item-wrapp').removeClass('active').children('.panel').slideUp(400, function () {});\n    } else {\n      $(siblings).slideUp(400, function () {});\n      $(thisParent).removeClass('active');\n    }\n\n    return false;\n  });\n  /**********************************/\n\n  /* WOOCOMMERCE INPUT QUANTITY     */\n\n  /**********************************/\n\n  var wrapper = $('.custom-product-quantity');\n\n  if (wrapper.length) {\n    $('body').on('click', '.custom-product-quantity .q_inc, .custom-product-quantity .q_dec', function (e) {\n      e.preventDefault();\n      var input = $(this).parent('.custom-product-quantity').find('.qty');\n      var qty = Number(input.val());\n      this.className === 'q_inc' ? qty-- : qty++;\n      qty = qty > 1 ? qty : 1;\n      input.val(qty).change();\n    });\n  }\n  /***********************************/\n\n  /* POP UP */\n\n  /**********************************/\n\n\n  $(document).ready(function () {\n    $('.js-popup').magnificPopup({\n      delegate: 'a',\n      type: 'image',\n      closeOnContentClick: false,\n      closeBtnInside: false,\n      mainClass: 'mfp-with-zoom mfp-img-mobile',\n      image: {\n        verticalFit: true\n      },\n      gallery: {\n        enabled: true\n      },\n      zoom: {\n        enabled: true,\n        duration: 300,\n        // don't foget to change the duration also in CSS\n        opener: function (element) {\n          return element.find('img');\n        }\n      }\n    });\n  });\n\n  function showcaseSlider() {\n    $(window).trigger('resize', function () {\n      $(window);\n    });\n  }\n  /***********************************/\n\n  /* SERVICES */\n\n  /**********************************/\n\n\n  $('.services.accordion .toggle').on('click', function (e) {\n    e.preventDefault();\n    var $this = $(this);\n\n    if ($this.next().hasClass('is-show')) {\n      $this.next().removeClass('is-show');\n      $this.next().slideUp(350);\n      $this.find('i').removeClass('ion-minus').addClass('ion-plus');\n    } else {\n      $this.parent().parent().find('li .list-drop').removeClass('is-show');\n      $this.parent().parent().find('li .list-drop').slideUp(350);\n      $this.next().toggleClass('is-show');\n      $this.next().slideToggle(350);\n      $this.closest('.services.accordion').find('.toggle i').removeClass('ion-minus').addClass('ion-plus');\n      $this.find('.ion-plus').addClass('ion-minus').removeClass('ion-plus');\n    }\n  });\n\n  function calcServicesHeight() {\n    if ($('.services.tile').length) {\n      $('.services.tile .item-first').each(function () {\n        var elementFirstH = $(this).height();\n        var element = $(this).next('.item-second');\n        var textHeight = element.find('.text-wrap').outerHeight();\n\n        if ($(window).width() > 991) {\n          element.find('.img-wrap').css('height', elementFirstH - textHeight - 30 + 'px');\n        } else {\n          element.find('.img-wrap').css('height', 'auto');\n        }\n      });\n    }\n  }\n\n  $(window).on('load resize', function () {\n    calcServicesHeight();\n    topBannerHeight();\n  });\n  window.addEventListener(\"orientationchange\", function () {\n    calcServicesHeight();\n    topBannerHeight();\n  });\n\n  function fixShowcase() {\n    if ($('.modern-slider-wrap').length) {\n      setTimeout(function () {\n        $(document).trigger('resize');\n      }, 0);\n    }\n  }\n  /***********************************/\n\n  /* SHOP SLIDER */\n\n  /**********************************/\n\n\n  $('.clicked2').on('click', function () {\n    $('ol li img').removeClass('flex-active');\n    $(this).addClass('flex-active');\n    $('.firstImg').attr('src', 'img/soft-chair/shop-img-3-gallery-2.jpg');\n    $('figure a').attr('href', 'img/soft-chair/shop-img-3-gallery-2.jpg');\n  });\n  $('.clicked1').on('click', function () {\n    $('ol li img').removeClass('flex-active');\n    $(this).addClass('flex-active');\n    $('.firstImg').attr('src', 'img/soft-chair/shop-img-3-768x946.jpg');\n    $('figure a').attr('href', 'img/soft-chair/shop-img-3-768x946.jpg');\n  });\n  $('.clicked3').on('click', function () {\n    $('ol li img').removeClass('flex-active');\n    $(this).addClass('flex-active');\n    $('.firstImg').attr('src', 'img/soft-chair/shop-img-3-gallery-1.jpg');\n    $('figure a').attr('href', 'img/soft-chair/shop-img-3-gallery-1.jpg');\n  }); //side-table page//\n\n  $('.clicked21').on('click', function () {\n    $('ol li img').removeClass('flex-active');\n    $(this).addClass('flex-active');\n    $('.firstImg').attr('src', 'img/side-table/shop-img-5-gallery-2.jpg');\n    $('figure a').attr('href', 'img/side-table/shop-img-5-gallery-2.jpg');\n  });\n  $('.clicked11').on('click', function () {\n    $('ol li img').removeClass('flex-active');\n    $(this).addClass('flex-active');\n    $('.firstImg').attr('src', 'img/side-table/shop-img-5-768x989.jpg');\n    $('figure a').attr('href', 'img/side-table/shop-img-5-768x989.jpg');\n  });\n  $('.clicked31').on('click', function () {\n    $('ol li img').removeClass('flex-active');\n    $(this).addClass('flex-active');\n    $('.firstImg').attr('src', 'img/side-table/shop-img-5-gallery-1.jpg');\n    $('figure a').attr('href', 'img/side-table/shop-img-5-gallery-1.jpg');\n  }); //modern-end-table page//\n\n  $('.clicked22').on('click', function () {\n    $('ol li img').removeClass('flex-active');\n    $(this).addClass('flex-active');\n    $('.firstImg').attr('src', 'img/modern-end-table/shop-img-8-gallery-2.jpg');\n    $('figure a').attr('href', 'img/modern-end-table/shop-img-8-gallery-2.jpg');\n  });\n  $('.clicked12').on('click', function () {\n    $('ol li img').removeClass('flex-active');\n    $(this).addClass('flex-active');\n    $('.firstImg').attr('src', 'img/modern-end-table/shop-img-8-768x946.jpg');\n    $('figure a').attr('href', 'img/modern-end-table/shop-img-8-768x946.jpg');\n  });\n  $('.clicked32').on('click', function () {\n    $('ol li img').removeClass('flex-active');\n    $(this).addClass('flex-active');\n    $('.firstImg').attr('src', 'img/modern-end-table/shop-img-8-gallery-1.jpg');\n    $('figure a').attr('href', 'img/modern-end-table/shop-img-8-gallery-1.jpg');\n  }); //bertt-side-table page//\n\n  $('.clicked23').on('click', function () {\n    $('ol li img').removeClass('flex-active');\n    $(this).addClass('flex-active');\n    $('.firstImg').attr('src', 'img/bertt-side-table/shop-img-4-gallery-1.jpg');\n    $('figure a').attr('href', 'img/bertt-side-table/shop-img-4-gallery-1.jpg');\n  });\n  $('.clicked13').on('click', function () {\n    $('ol li img').removeClass('flex-active');\n    $(this).addClass('flex-active');\n    $('.firstImg').attr('src', 'img/bertt-side-table/shop-img-4-768x946.jpg');\n    $('figure a').attr('href', 'img/bertt-side-table/shop-img-4-768x946.jpg');\n  });\n  $('.single_add_to_cart_button').on('click', function (eventObject) {\n    eventObject.preventDefault();\n    location.href = 'cart.html';\n  });\n  $('.add_to_cart_button').on('click', function (eventObject) {\n    eventObject.preventDefault();\n    location.href = 'cart.html';\n  }); //wooden-nightstand page //\n\n  $('.clicked24').on('click', function () {\n    $('ol li img').removeClass('flex-active');\n    $(this).addClass('flex-active');\n    $('.firstImg').attr('src', 'img/wooden-nightstand/shop-img-1-gallery-1.jpg');\n    $('figure a').attr('href', 'img/wooden-nightstand/shop-img-1-gallery-1.jpg');\n  });\n  $('.clicked14').on('click', function () {\n    $('ol li img').removeClass('flex-active');\n    $(this).addClass('flex-active');\n    $('.firstImg').attr('src', 'img/wooden-nightstand/shop-img-1-768x946.jpg');\n    $('figure a').attr('href', 'img/wooden-nightstand/shop-img-1-768x946.jpg');\n  });\n  $('.clicked34').on('click', function () {\n    $('ol li img').removeClass('flex-active');\n    $(this).addClass('flex-active');\n    $('.firstImg').attr('src', 'img/wooden-nightstand/shop-img-1-gallery-2.jpg');\n    $('figure a').attr('href', 'img/wooden-nightstand/shop-img-1-gallery-2.jpg');\n  }); //modern-end-table-2 page//\n\n  $('.clicked25').on('click', function () {\n    $('ol li img').removeClass('flex-active');\n    $(this).addClass('flex-active');\n    $('.firstImg').attr('src', 'img/modern-end-table-2/shop-img-7-gallery-2.jpg');\n    $('figure a').attr('href', 'img/modern-end-table-2/shop-img-7-gallery-2.jpg');\n  });\n  $('.clicked15').on('click', function () {\n    $('ol li img').removeClass('flex-active');\n    $(this).addClass('flex-active');\n    $('.firstImg').attr('src', 'img/modern-end-table-2/shop-img-7-768x946.jpg');\n    $('figure a').attr('href', 'img/modern-end-table-2/shop-img-7-768x946.jpg');\n  });\n  $('.clicked35').on('click', function () {\n    $('ol li img').removeClass('flex-active');\n    $(this).addClass('flex-active');\n    $('.firstImg').attr('src', 'img/modern-end-table-2/shop-img-7-gallery-1.jpg');\n    $('figure a').attr('href', 'img/modern-end-table-2/shop-img-7-gallery-1.jpg');\n  }); //wooden-chair page//\n\n  $('.clicked26').on('click', function () {\n    $('ol li img').removeClass('flex-active');\n    $(this).addClass('flex-active');\n    $('.firstImg').attr('src', 'img/wooden-chair/shop-img-2-gallery-3.jpg');\n    $('figure a').attr('href', 'img/wooden-chair/shop-img-2-gallery-3.jpg');\n  });\n  $('.clicked16').on('click', function () {\n    $('ol li img').removeClass('flex-active');\n    $(this).addClass('flex-active');\n    $('.firstImg').attr('src', 'img/wooden-chair/shop-img-2-768x946.jpg');\n    $('figure a').attr('href', 'img/wooden-chair/shop-img-2-768x946.jpg');\n  });\n  $('.clicked36').on('click', function () {\n    $('ol li img').removeClass('flex-active');\n    $(this).addClass('flex-active');\n    $('.firstImg').attr('src', 'img/wooden-chair/shop-img-2-gallery-2.jpg');\n    $('figure a').attr('href', 'img/wooden-chair/shop-img-2-gallery-2.jpg');\n  }); //coffe-table page//\n\n  $('.clicked27').on('click', function () {\n    $('ol li img').removeClass('flex-active');\n    $(this).addClass('flex-active');\n    $('.firstImg').attr('src', 'img/coffe-table/shop-img-9-gallery-1.jpg');\n    $('figure a').attr('href', 'img/coffe-table/shop-img-9-gallery-1.jpg');\n  });\n  $('.clicked17').on('click', function () {\n    $('ol li img').removeClass('flex-active');\n    $(this).addClass('flex-active');\n    $('.firstImg').attr('src', 'img/coffe-table/shop-img-9-768x946.jpg');\n    $('figure a').attr('href', 'img/coffe-table/shop-img-9-768x946.jpg');\n  });\n  $('.woocommerce-cart-form').on('submit', function (eventObject) {\n    eventObject.preventDefault();\n  });\n  $('.placeOrder').on('click', function (eventObject) {\n    eventObject.preventDefault();\n  });\n  $('.search-form').submit(function (eventObject) {\n    eventObject.preventDefault();\n  });\n})(jQuery, window, document);","map":{"version":3,"sources":["/Users/myrandapalomino/Desktop/InteriorDesignPortfolio/native-react-app/src/public/js/all.js"],"names":["$","window","document","underfined","swipers","vivus","slicks","winScr","isotopeGridVar","isotopeMasonryVar","_isresponsive","smPoint","mdPoint","lgPoint","addPoint","_ismobile","navigator","userAgent","match","pageCalculations","winW","winH","winS","documentHeight","$html","latestKnownScrollY","lastKnownScrollY","onEvent","addEventListener","func","innerWidth","innerHeight","scrollTop","height","parallaxDetailHeigth","wpc_add_img_bg","on","addClass","find","startBtnAnimate","fixShowcase","startFigureAnimate","testimonialsSliderHeight","initSwiper","pragueGrid","pragueMasonry","pragueTimelineList","initVivus","initProjectDetailSlider","initProjectDetailFullScreen","beforeAfter","initSlick","topBannerHeight","showcaseSlider","foxlazy","each","index","that","setTimeout","slick","refresh","Parallax","update","removeClass","e","thisItem","thisParent","parent","siblings","length","css","show","hide","preventDefault","openSimpleMenu","toggleClass","slideToggle","enable_foxlazy","trigger","$this","$sub_menu","test","href","prepend","clone","show_level","moveMenu","direction","submenu_count","hasClass","closest","next","hammertime","Hammer","_this","img_sel","parent_sel","$parent","$neighbor","$imgDataHidden","$imgDataSibling","data","src","pageHeightCalculate","pageCalculate","pageCalculateContentHeight","outerHeight","pageOnlyFullHeight","wrapper","$wrapperHeight","headerH","footerH","not","windowH","offsetTop","topFullBannerHeight","bannerFullWrapper","bannerFullContent","bannerFullContentHeight","heigh","animate","offset","top","setHeightAllIframe","upFullWidthVideo","is_touch_device","maxTouchPoints","$video","w","width","h","videoRatio","toFixed","minW","parseInt","minH","widthRatio","heightRatio","newWidth","newHeight","removeAttr","Math","ceil","onYouTubeIframeAPIReady","player","$iframe_parent","i","YT","Player","events","event","target","mute","pauseVideo","playVideo","stopVideo","btnCreative","figureCreative","cirleFigure","circleFigure","circle","circleHeight","currentSwiper","totalSwiper","ifZero","current","total","attrsToSize","parseSlidesAttrValue","value","parts","split","slidesPerView","spaceBetween","createBreakpoints","container","breakpointsObj","key","attr","setMousewheel","activeIndex","slidesNum","bind","originalEvent","wheelDelta","enableMousewheelControl","disableMousewheelControl","sliderIndex","setThumb","customSliderCurrent","customSliderTotal","text","speedVar","loopVar","paginationType","autoPlayVar","autoHeightVar","centerVar","isNumeric","effectVar","mode","slidesPerViewVar","spaceBetweenVar","mouseVar","isNaN","Swiper","pagination","paginationClickable","keyboardControl","simulateTouch","roundLengths","autoplayDisableOnInteraction","grabCursor","watchSlidesProgress","speed","loop","noSwiping","autoplay","autoHeight","centeredSlides","mousewheelControl","effect","paginationCurrentClass","paginationTotalClass","nextButton","prevButton","breakpoints","onInit","swiper","totalSlides","onSlideChangeEnd","slides","onSlideChangeStart","realIndex","eq","onSlideClick","paginationBulletRender","className","newIndex","newIndexAuthor","html","testimonialsWrapp","testimonialsSlider","testimonialsItemHeight","maxHeight","comingSoonValue","comingSoonElements","thisElement","comingSoonElementsItem","mobileText","getTimeRemaining","endtime","t","Date","parse","seconds","floor","minutes","hours","days","prague_timeinterval","updateClock","$clock","endTime","updateDays","slice","clearInterval","comingTimeWrapper","self","$mask_clock","setInterval","svgIndex","Vivus","duration","filmstripSliderHeight","filmstripWrapperHeight","filmstripSlider","filmstripFooterHeight","dropdown","querySelectorAll","dropdownArray","Array","prototype","call","forEach","el","button","querySelector","menu","arrow","onclick","classList","add","remove","Element","RegExp","filterValue","openTopFilter","separator","isotope","filter","join","sortingValue","sortBy","timelineImageHeight","timelineWrapper","timelineContentWrapperHeight","this_position_top","position","$gallery_row","item_height","$gallery_wrapper","gallery_wrapper_height","scroll_to","this_offset_bottom","off","data_unique_key","scrollSelector","active_class","time","contentTop","contentOffset","currentAnchor","location","hash","scrollFlag","setContentTopObject","offset_top","round","setImmediateAnchor","anchor","link_hash","stop","history","pushState","stickyTimeline","stickyTop","setScrollAnchor","scrollPositionTop","p","bottom","accessibilityVar","arrowsVar","autoPlaySpeedVar","dots","slidesToScroll","variableWidth","infinite","centerMode","prevArrow","nextArrow","accessibility","arrows","autoplaySpeed","main","thumb","variableWidthVar","fadeVar","asNavForVar","focusOnSelectVar","slidesToShowVar","verticalVar","verticalSwipingVar","cssEase","slidesToShow","fade","asNavFor","focusOnSelect","vertical","verticalSwiping","responsive","breakpoint","settings","scrollCenterProjectList","projectList","categoriesOuter","prev","prevCategory","nextCategory","block","$portfolioGrid","$portfolioItemWrapp","itemSelector","layoutMode","$portfolioMasonry","percentPosition","$portfolioTimeline","getSortData","first","title","third","fourth","selector","covers","amount","initialized","start","initialize","hero","$hero","$cover","children","$image","scaleY","scale","imageWidth","outerWidth","imageHeight","heroHeight","scaleX","max","empty","cover","opacity","$target","$slider","$clone","$cloneTarget","$cloneImage","$cloneSlider","heroOffset","adminBar","distance","speeds","static","slow","medium","fast","fixed","appendTo","parallax_speeds","is","TweenMax","to","y","parallax","end","timeline","TimelineMax","paused","parallax2","fromTo","ease","Linear","easeNone","force3D","progress","progress2","url","getAttribute","w_pop","h_pop","scren_left","screenLeft","screen","left","scren_top","screenTop","newWindow","open","focus","fadeOut","val","fadeIn","$btn","$btnText","$wrapper","uniqueKey","$container","pageNum","nextLink","ajax","type","success","$items","append","console","log","replace","newLink","createNewLink","link","numberLength","oldString","newReverseStr","reverse","imgWooHeight","slideDown","slideUp","input","qty","Number","change","ready","magnificPopup","delegate","closeOnContentClick","closeBtnInside","mainClass","image","verticalFit","gallery","enabled","zoom","opener","element","calcServicesHeight","elementFirstH","textHeight","eventObject","submit","jQuery"],"mappings":"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","sourcesContent":["/* SCRIPT.JS */\n/* ------------------------------------------------------------------------------------------------------- */\n/* This is main JS file that contains custom rules used in this template */\n/* ------------------------------------------------------------------------------------------------------- */\n/* Template Name: PRAGUE */\n/* Version: 1.1.0 Initial Release */\n/* Build Date: */\n/* Author:  */\n/* Website: */\n/* Copyright: (C) */\n/* ------------------------------------------------------------------------------------------------------ */\n\n/* -------------------------------------------------------- */\n/* TABLE OF CONTENTS: */\n/* -------------------------------------------------------- */\n/*\n1. INIT\n2. WINDOW LOAD\n3. WINDOW RESIZE\n4. WINDOW SCROLL\n5. MENU\n6. BACKGROUND\n7. PAGE HEIGHT CALCULATE\n8. TOP BANNER HEIGHT AND CURSOR\n9. FULL VIDEO WIDTH\n10. BUTTON CREATIVE ANIMATE\n11. FIGURES ANIMATE & WIDTH\n12. SWIPER SLIDER\n14. TESTEMONIALS\n15. COMING SOON\n16. INIT VIVUS FOR SVG\n17. FILMSTRIP SLIDER HEIGHT\n18. FILMSTRIP FILTER\n19. TOP FILTER\n20. TIMELINE SORTING\n21. TIMELINE IMAGE HEIGHT & SCROLL\n22. TIMELINE EXHIBITION\n23. SLICK SLIDER\n24. PROJECT LIST SLIDER\n25. PROJECT CATEGORIES\n26. PORTFOLIO\n27. PROJECT DETAIL PARALLAX\n28. PROJECT DETAIL BEFORE AFTER\n29. LOAD MORE\n*/\n/* -------------------------------------------------------- */\n\n;(function($, window, document, underfined) {\n    'use strict';\n\n\n    /***********************************/\n    /* INIT */\n    /**********************************/\n    var swipers = [],\n        vivus = [],\n        slicks = [],\n        winScr,\n        isotopeGridVar,\n        isotopeMasonryVar,\n        _isresponsive,\n        smPoint = 768,\n        mdPoint = 992,\n        lgPoint = 1200,\n        addPoint = 1600,\n        _ismobile = navigator.userAgent.match(/Android/i) || navigator.userAgent.match(/webOS/i) || navigator.userAgent.match(/iPhone/i) || navigator.userAgent.match(/iPad/i) || navigator.userAgent.match(/iPod/i);\n\n    /**\n     *\n     * PageCalculations function\n     * @since 1.0.0\n     * @version 1.0.1\n     * @var winW\n     * @var winH\n     * @var winS\n     * @var pageCalculations\n     * @var onEvent\n     **/\n\n    if (typeof pageCalculations !== 'function') {\n\n        var winW, winH, winS, pageCalculations, documentHeight, $html, latestKnownScrollY, lastKnownScrollY, onEvent = window.addEventListener;\n\n        pageCalculations = function (func) {\n\n            winW = window.innerWidth;\n            winH = window.innerHeight;\n            winS = $(window).scrollTop();\n            documentHeight = $(document).height(),\n                $html = $('html');\n            latestKnownScrollY = $(window).scrollTop(),\n                lastKnownScrollY = latestKnownScrollY;\n\n            if (!func) return;\n\n            onEvent('load', func, true); // window onload\n            onEvent('resize', func, true); // window resize\n            //onEvent(\"orientationchange\", func, false); // window orientationchange\n\n        } // end pageCalculations\n\n        pageCalculations(function () {\n            pageCalculations();\n        });\n\n    }\n\n    pageCalculations(function () {\n        parallaxDetailHeigth();\n    });\n\n    wpc_add_img_bg('.s-loader-switch');\n\n    /***********************************/\n    /* WINDOW LOAD */\n    /**********************************/\n\n    $(window).on('load', function () {\n        $('body').addClass('loaded').find('.prague-loader').addClass('is-loaded');\n        startBtnAnimate();\n        fixShowcase();\n        startFigureAnimate();\n        testimonialsSliderHeight();\n        initSwiper();\n        pragueGrid();\n        pragueMasonry();\n        pragueTimelineList();\n        initVivus();\n        initProjectDetailSlider();\n        initProjectDetailFullScreen();\n        beforeAfter();\n        initSlick();\n        topBannerHeight();\n        showcaseSlider();\n        // $('. -item-paralax').foxParalax();\n    });\n\n    // LAZYLOAD\n    $(window).on(\"load\", function () {\n        $(\"img[data-lazy-src]\").foxlazy();\n    });\n\n    /***********************************/\n    /* WINDOW RESIZE */\n    /**********************************/\n    $(window).on('resize', function () {\n        $('.filmstrip-slider').each(function (index) {\n            var that = $(this);\n            setTimeout(function () {\n                that[index].slick.refresh();\n            }, 0);\n        });\n        testimonialsSliderHeight();\n        topBannerHeight();\n    });\n\n\n    /***********************************/\n    /* WINDOW SCROLL */\n    /**********************************/\n    $(window).on('scroll', function () {\n        winS = $(window).scrollTop();\n        latestKnownScrollY = $(window).scrollTop();\n        lastKnownScrollY = latestKnownScrollY;\n        Parallax.update();\n        startBtnAnimate();\n        startFigureAnimate();\n\n        if ($(this).scrollTop() >= 50) {\n            $('header').addClass('scroll');\n        } else {\n            $('header').removeClass('scroll');\n        }\n\n    });\n\n\n    /***********************************/\n    /* MENU */\n    /**********************************/\n    // social icons\n    $('.prague-social-nav > a').on('click', function (e) {\n        var thisItem = $(this);\n        var thisParent = $(this).parent('.prague-social-nav');\n        var siblings = $(thisParent).find('.social-content');\n        if ($(siblings).length > 0 && $(siblings).css('display') === 'none') {\n            $(siblings).show(300);\n        } else {\n            $(siblings).hide(300);\n        }\n        e.preventDefault();\n    });\n\n    // menu\n    function openSimpleMenu() {\n        $('.prague-nav-menu-icon').toggleClass('active');\n        $('.prague-navigation').slideToggle();\n        $('.prague-header').toggleClass('open-menu');\n        $('body, html').toggleClass('no-scroll');\n\n        if (window.enable_foxlazy) {\n            $(window).trigger(\"load\");\n        }\n    }\n\n    $('.prague-nav-menu-icon a').on('click', function (e) {\n        openSimpleMenu();\n        e.preventDefault();\n    });\n\n\n\n\n    // menu clone link\n    $('.prague-header.full .menu-item-has-children').each(function () {\n        var $this = $(this),\n            $sub_menu = $this.find('> .sub-menu');\n\n        if (!/#/.test($this.find('> a')[0].href)) {\n            $sub_menu.prepend($this.find('> a').clone().addClass('clone-menu-item'));\n        }\n\n        $this.find('> a').on('click', function () {\n            return false;\n        });\n\n    });\n\n    // full menu navigation\n    var show_level = 0;\n\n    function moveMenu(direction) {\n\n        var submenu_count = $('.sub-menu.active').length;\n\n        if (direction == 'toRight') {\n            show_level--;\n        } else {\n            show_level++;\n        }\n\n        if (show_level < 0) show_level = 0;\n        if (show_level >= submenu_count) show_level = submenu_count;\n\n        $('.prague-header.full nav').css('transform', 'translateX(-' + (show_level * 100) + '%)');\n\n        if (show_level > 0) {\n            $('.prague-header-form').addClass('hidyy');\n        } else {\n            $('.prague-header-form').removeClass('hidyy');\n        }\n\n    }\n\n    $('.prague-header.full .main-menu a').on('click', function (e) {\n\n        if ($(this).hasClass('clone-menu-item')) return true;\n\n        $('.sub-menu').removeClass('active');\n        $(this).closest('.sub-menu').addClass('active');\n        $(this).next('ul').addClass('active');\n\n        // swipe menu\n        moveMenu();\n\n    });\n\n    if ($('.prague-navigation').length) {\n        // swipe menu events\n        var hammertime = new Hammer($('.prague-navigation-inner')[0], {});\n        hammertime.on('swipeleft', function (_this) {\n            moveMenu();\n        });\n        hammertime.on('swiperight', function (_this) {\n            moveMenu('toRight');\n        });\n    }\n\n\n    /***********************************/\n    /* BACKGROUND */\n    /**********************************/\n    //sets child image as a background\n    function wpc_add_img_bg(img_sel, parent_sel) {\n\n        if (!img_sel) {\n            return false;\n        }\n\n        var $parent, $neighbor, $imgDataHidden, $imgDataSibling, _this;\n\n        $(img_sel).each(function () {\n            _this = $(this);\n            $imgDataHidden = _this.data('s-hidden');\n            $imgDataSibling = _this.data('s-sibling');\n            $parent = _this.closest(parent_sel);\n            $parent = $parent.length ? $parent : _this.parent();\n\n            if ($imgDataSibling) {\n                $parent.addClass('s-back-sibling-switch');\n                $neighbor = _this.next();\n                $neighbor = $neighbor.length ? $neighbor : _this.next();\n                $neighbor.css('background-image', 'url(' + this.src + ')').addClass('s-sibling-switch');\n            } else {\n                $parent.css('background-image', 'url(' + this.src + ')').addClass('s-back-switch');\n            }\n\n            if ($imgDataHidden) {\n                _this.css('visibility', 'hidden');\n            } else {\n                _this.hide();\n            }\n        });\n    }\n\n\n    /***********************************/\n    /* PAGE HEIGHT CALCULATE */\n    /**********************************/\n    function pageHeightCalculate() {\n        if ($('.page-calculate.fullheight').length) {\n\n            var pageCalculate = $('.page-calculate.fullheight'),\n                pageCalculateContentHeight = $('.page-calculate.fullheight .page-calculate-content').outerHeight(true);\n\n            if (winH < pageCalculateContentHeight) {\n                pageCalculate.css('height', pageCalculateContentHeight);\n            } else {\n                pageCalculate.css('height', winH);\n            }\n        }\n    }\n\n    function pageOnlyFullHeight(wrapper) {\n        var $wrapperHeight = $(wrapper);\n        $wrapperHeight.outerHeight(winH);\n    }\n\n\n    /***********************************/\n    /* FULL HEIGHT BANNER */\n    /**********************************/\n\n    function topBannerHeight() {\n        var headerH = $('.prague-header').outerHeight() || 0;\n        var footerH = $('.prague-footer').not('.prague-footer.modern').outerHeight() || 0;\n        var windowH = $(window).height(); //it's fixed white space on mobile scroll and good works :)\n        var offsetTop;\n        if ($('#wpadminbar').length) {\n            offsetTop = headerH + $('#wpadminbar').outerHeight();\n        } else {\n            offsetTop = headerH;\n        }\n\n\n        $('.full-height-window').css('height', (windowH) + 'px');\n        $('.full-height-window-min-hard').css('min-height', (windowH - offsetTop) + 'px');\n        $('.full-height-window-hard').css('height', (windowH - offsetTop) + 'px');\n        $('.full-height-window-head-foot').css('height', (windowH - offsetTop - footerH) + 'px');\n        $('.middle-height-window-hard').css('height', (windowH - offsetTop) * 0.8 + 'px');\n    }\n\n\n    /***********************************/\n    /* TOP BANNER HEIGHT AND CURSOR */\n    /**********************************/\n\n    function topFullBannerHeight() {\n\n        var bannerFullWrapper = $('.top-banner.fullheight'),\n            bannerFullContent = $('.top-banner.fullheight .content'),\n            bannerFullContentHeight = $('.top-banner.fullheight .content').outerHeight(true);\n\n        var heigh = '100vh';\n        if (heigh < bannerFullContentHeight) {\n            bannerFullWrapper.css('min-height', bannerFullContentHeight);\n        } else {\n            bannerFullWrapper.css('min-height', heigh);\n\n        }\n    }\n\n    $('.top-banner .top-banner-cursor').on('click', function (e) {\n\n        $('html, body').animate({\n            scrollTop: $('.top-banner').height() + $('.top-banner').offset().top\n        }, 600);\n\n    })\n\n\n    /***********************************/\n    /* FULL VIDEO WIDTH */\n    /**********************************/\n\n\n    /* Set height iframe */\n    function setHeightAllIframe() {\n        // $('.prague-iframe-wrapper').each(function(){\n        //     var $iframe_wrap = $(this),\n        //         $iframe = $iframe_wrap.find('iframe');\n        //         $iframe.height($iframe.width() * 0.7);\n        // });\n    }\n\n    function upFullWidthVideo() {\n\n        function is_touch_device() {\n            return 'ontouchstart' in window\n                // works on most browsers\n                ||\n                navigator.maxTouchPoints; // works on IE10/11 and Surface\n        };\n\n        // for video uploaded\n        $('.js-video-wrapper').each(function () {\n            var $video = $(this).find('video,iframe'),\n                w = $video.width(),\n                h = $video.outerHeight(),\n                videoRatio = (w / h).toFixed(2),\n                minW = parseInt($(this).width()),\n                minH = parseInt($(this).outerHeight()),\n                widthRatio = minW / w,\n                heightRatio = minH / h,\n                newWidth, newHeight;\n\n            $video.removeAttr('height').removeAttr('width');\n\n            if (widthRatio > heightRatio) {\n                newWidth = minW;\n                newHeight = Math.ceil(newWidth / videoRatio);\n            } else {\n                newHeight = minH;\n                newWidth = Math.ceil(newHeight * videoRatio);\n            }\n\n            if (minW < newWidth) {\n                newWidth = minW;\n            }\n\n            $video.width(newWidth + 'px').height(newHeight + 'px');\n\n            // if (is_touch_device() && winW >= '768') {\n            // \t$video.hide();\n            // } else {\n            // \t$video.show();\n            // }\n            if (newHeight > minH) {\n                $video.css('top', -(newHeight - minH) / 2);\n            } else {\n                $video.css('top', '0');\n            }\n\n            if (newWidth >= minW) {\n                $video.css('left', -(newWidth - minW) / 2);\n            } else {\n                $video.css('left', '0');\n            }\n        });\n    }\n\n    window.onYouTubeIframeAPIReady = function () {\n\n        var player = [],\n            $iframe_parent = [],\n            $this;\n\n        // each all iframe\n        $('iframe').each(function (i) {\n            // get parent element\n            $this = $(this);\n            $iframe_parent = $this.closest('.js-video-wrapper');\n\n            // init video player\n            player[i] = new YT.Player(this, {\n                // callbacks\n                events: {\n                    'onReady': function (event) {\n\n                        // mute on/off\n                        if ($this.data('mute') == 'on') {\n                            event.target.mute();\n                        }\n                    }\n                }\n            });\n\n            $iframe_parent.find('.js-play-button').on('click', function () {\n                event.preventDefault();\n                var $this = $(this);\n                if ($this.hasClass('start')) {\n                    player[i].pauseVideo();\n                    $this.removeClass('start');\n                } else {\n                    player[i].playVideo();\n                    $this.addClass('start').closest('.js-video-wrapper').addClass('play');\n                }\n            });\n\n            $iframe_parent.find('.js-video-close').on('click', function () {\n                event.preventDefault();\n                var $this = $(this);\n                player[i].stopVideo();\n                $this.closest('.js-video-wrapper').removeClass('play').find('.js-play-button').removeClass('start');\n            });\n        });\n    }\n\n    // Target your .container, .wrapper, .post, etc.\n    // $(\".js_wrapper_el_video\").fitVids();\n\n    /***********************************/\n    /* BUTTON CREATIVE ANIMATE */\n    /**********************************/\n    function startBtnAnimate() {\n\n        var btnCreative = $('.a-btn.creative, .a-btn-2.creative').not('.anima');\n\n        if (btnCreative.length) {\n            for (var i = 0; i < btnCreative.length; i++) {\n                if ($(window).scrollTop() >= $(btnCreative[i]).offset().top - $(window).height() * 1.4) {\n                    $(btnCreative[i]).addClass('anima');\n                }\n            }\n        }\n    }\n\n\n\n\n    /***********************************/\n    /* FIGURES ANIMATE & WIDTH */\n    /**********************************/\n    function startFigureAnimate() {\n\n        var figureCreative = $('.trans_figures.enable_anima').not('.animation');\n\n        if (figureCreative.length) {\n            for (var i = 0; i < figureCreative.length; i++) {\n                if ($(window).scrollTop() >= $(figureCreative[i]).offset().top - $(window).height() * 0.9) {\n                    $(figureCreative[i]).addClass('animation');\n                }\n            }\n        }\n    }\n\n    function cirleFigure() {\n\n        var circleFigure = $('.team-wrapper.circle');\n\n        if (circleFigure.length) {\n            for (var i = 0; i < circleFigure.length; i++) {\n                var circle = $(circleFigure[i]).find('.team-outer');\n                var circleHeight = circle.height();\n                circle.css('width', circleHeight);\n            }\n        }\n    }\n\n\n    /* ADD ZERO FUNCTION */\n    var currentSwiper, totalSwiper;\n\n    function ifZero(current, total) {\n        currentSwiper = current + 1 < 10 ? '0' + (current + 1) : current + 1;\n        totalSwiper = total < 10 ? '0' + total : total;\n    }\n\n    /*---------------*/\n    /* SWIPER SLIDER */\n    /*---------------*/\n    function initSwiper() {\n        if ($('.full_showcase_slider').length) {\n            var attrsToSize = {\n                'data-lg-slides': '1600',\n                'data-md-slides': '1300',\n                'data-sm-slides': '992',\n                'data-xs-slides': '768'\n            };\n        } else {\n            var attrsToSize = {\n                'data-lg-slides': '1200',\n                'data-md-slides': '992',\n                'data-sm-slides': '768',\n                'data-xs-slides': '599'\n            };\n        }\n\n        function parseSlidesAttrValue(value) {\n            var parts = value.split(',');\n            return {\n                slidesPerView: parseInt(parts[0], 10),\n                spaceBetween: parseInt(parts[1], 10)\n            }\n        }\n\n        function createBreakpoints(container, attrsToSize) {\n            var breakpointsObj = {};\n            $.each(attrsToSize, function (key, value) {\n                if (container.attr(key)) {\n                    breakpointsObj[value] = parseSlidesAttrValue(container.attr(key));\n                }\n            });\n            return breakpointsObj;\n        }\n\n        function setMousewheel(activeIndex, slidesNum, container) {\n            if (activeIndex == slidesNum - 1) {\n                $(window).bind('mousewheel', function (event) {\n                    if (event.originalEvent.wheelDelta >= 0) {\n                        container.enableMousewheelControl();\n                    } else {\n                        container.disableMousewheelControl();\n                    }\n                });\n            } else if (activeIndex == 0) {\n                $(window).bind('mousewheel', function (event) {\n                    if (event.originalEvent.wheelDelta >= 0) {\n                        container.disableMousewheelControl();\n                    } else {\n                        container.enableMousewheelControl();\n                    }\n                });\n            }\n        }\n\n        $('.swiper-container').each(function (index) {\n\n            var that = $(this);\n\n            var sliderIndex = 'swiper-unique-id-' + index;\n\n            that.addClass(sliderIndex + ' initialized').attr('id', sliderIndex);\n            that.find('.swiper-pagination').addClass('pagination-' + sliderIndex);\n\n            if (that.find('.swiper-slide').length <= 1) {\n                $('.slider-click[data-pagination-rel=\"' + that.data('pagination-rel') + '\"]').addClass('disabled');\n            }\n\n            var setThumb = function (activeIndex, slidesNum) {\n                var\n                    customSliderCurrent = that.find('.swiper-pagination-current'),\n                    customSliderTotal = that.find('.swiper-pagination-total');\n\n                ifZero(activeIndex, slidesNum);\n\n                customSliderCurrent.text(currentSwiper);\n                customSliderTotal.text(totalSwiper);\n            };\n\n            var speedVar = parseInt(that.attr('data-speed'), 10);\n            var loopVar = parseInt(that.attr('data-loop'), 10);\n            var paginationType = that.attr('data-pagination-type') ? that.attr('data-pagination-type') : 'bullets';\n            var autoPlayVar = parseInt(that.attr('data-autoplay'), 10);\n            var autoHeightVar = parseInt(that.attr('data-autoheight'), 10);\n            var centerVar = $.isNumeric(that.attr('data-center')) ? parseInt(that.attr('data-center'), 10) : true;\n            var effectVar = that.attr('data-effect');\n            var mode = that.attr('data-mode');\n            var slidesPerViewVar = parseInt(that.attr('data-slides-per-view'), 10);\n            var spaceBetweenVar = parseInt(that.attr('data-space-between'), 10);\n            var mouseVar = $.isNumeric(that.attr('data-mouse')) ? parseInt(that.attr('data-mouse'), 10) : true;\n\n            if (isNaN(slidesPerViewVar)) {\n                slidesPerViewVar = 'auto';\n            }\n            swipers[sliderIndex] = new Swiper('.' + sliderIndex, {\n                pagination: '.pagination-' + sliderIndex,\n                paginationType: paginationType,\n                paginationClickable: true,\n                keyboardControl: true, // Set to true to enable navigation through slides using keyboard right and left (for horizontal mode), top and borrom (for vertical mode) keyboard arrows\n                simulateTouch: true, //If true, Swiper will accept mouse events like touch events (click and drag to change slides)\n                roundLengths: true, //Set to true to round values of slides widt h and height to prevent blurry texts on usual resolution screens (if you have such)\n                autoplayDisableOnInteraction: false,\n                grabCursor: false,\n                watchSlidesProgress: true,\n                speed: speedVar,\n                loop: loopVar,\n                noSwiping: mouseVar,\n                autoplay: autoPlayVar,\n                autoHeight: autoHeightVar, // Set to true and slider wrapper will adopt its height to the height of the currently active slide\n                centeredSlides: centerVar,\n                mousewheelControl: true,\n                effect: effectVar || 'slide',\n                direction: mode || 'horizontal',\n                slidesPerView: slidesPerViewVar,\n                spaceBetween: spaceBetweenVar || 0,\n                paginationCurrentClass: 'swiper-pagination-current',\n                paginationTotalClass: 'swiper-pagination-total',\n\n                // Navigation arrows\n                nextButton: '.swiper-button-next', //CSS selector or HTML element of the element that will work like \"next\" button\n                prevButton: '.swiper-button-prev', //CSS selector or HTML element of the element that will work like \"prev\" button\n\n                breakpoints: createBreakpoints(that, attrsToSize),\n\n                onInit: function (swiper) {\n                    var totalSlides = $('.swiper-slide:not(.swiper-slide-duplicate)').length;\n                    if ($('.banner-slider-wrap.andra').length) {\n                        if (totalSlides < 10) {\n                            $('.banner-slider-wrap.andra').find('.pag-wrapper').addClass('total-less10 current-less10');\n                        }\n                    }\n                },\n                onSlideChangeEnd: function (swiper) {\n                    var totalSlides = that.find($('.swiper-slide:not(.swiper-slide-duplicate)')).length;\n                    if ($('.projects-list-slider').length) {\n                        setMousewheel(activeIndex, swiper.slides.length, swiper);\n                    }\n                },\n                onSlideChangeStart: function (swiper) {\n                    var activeIndex = (loopVar == 1) ? swiper.realIndex : swiper.activeIndex;\n\n                    if (that.parent().find('.swiper-pagination-bullet').length) {\n                        that.parent().find('.swiper-pagination-bullet').removeClass('swiper-pagination-bullet-active').eq(activeIndex).addClass('swiper-pagination-bullet-active');\n                    }\n                },\n                onSlideClick: function (swiper) {},\n                paginationBulletRender: function (swiper, index, className) {\n                    if ($('.testimonials-swiper').length) {\n                        var newIndex = swiper.activeIndex + index;\n                        var newIndexAuthor = $(swiper.slides[newIndex]).find('.testimonials-author').html() || 'Guest';\n                        return '<span class=\"' + className + '\">' + newIndexAuthor + '</span>';\n                    }\n\n                },\n            });\n            swipers[sliderIndex].update();\n        });\n    }\n\n    /***********************************/\n    /* TESTIMONIALS */\n    /**********************************/\n    function testimonialsSliderHeight() {\n        var testimonialsWrapp = $('.testimonials-wrapper'),\n            testimonialsSlider = testimonialsWrapp.find('.testimonials-swiper'),\n            testimonialsItemHeight = testimonialsWrapp.find('.testimonials-item'),\n            maxHeight = 0;\n\n        testimonialsItemHeight.each(function () {\n            testimonialsItemHeight = parseInt($(this).innerHeight());\n            if (testimonialsItemHeight > maxHeight) {\n                maxHeight = testimonialsItemHeight;\n            };\n        });\n\n        testimonialsSlider.css('height', maxHeight);\n    }\n\n    /***********************************/\n    /* COMING SOON */\n    /**********************************/\n    function comingSoonValue() {\n        if ($('.prague-coming-time-wrapper .coming-time-item').length) {\n\n            var comingSoonElements = $('.prague-coming-time-wrapper .coming-time-item');\n\n            comingSoonElements.each(function () {\n                var thisElement = $(this),\n                    comingSoonElementsItem = thisElement.find('.name'),\n                    text = comingSoonElementsItem.data('desktop'),\n                    mobileText = comingSoonElementsItem.data('mobile');\n\n                if (winW < 768) {\n                    comingSoonElementsItem.text(mobileText);\n                } else {\n                    comingSoonElementsItem.text(text);\n                }\n            })\n        }\n    }\n\n    function getTimeRemaining(endtime) {\n        var t = Date.parse(endtime) - Date.parse(new Date());\n        var seconds = Math.floor((t / 1000) % 60);\n        var minutes = Math.floor((t / 1000 / 60) % 60);\n        var hours = Math.floor((t / (1000 * 60 * 60)) % 24);\n        var days = Math.floor(t / (1000 * 60 * 60 * 24));\n        return {\n            'total': t,\n            'days': days,\n            'hours': hours,\n            'minutes': minutes,\n            'seconds': seconds\n        };\n    }\n\n    var prague_timeinterval;\n\n    function updateClock($clock, endTime, updateDays) {\n\n        var t = getTimeRemaining(endTime);\n        if (updateDays) {\n            t.days = t.days < 0 ? 0 : t.days;\n            $clock.find('.count-days').text(t.days);\n        }\n        if (updateDays || t.minutes === 59) {\n            t.hours = t.hours < 0 ? 0 : t.hours;\n            $clock.find('.count-hours').text(('0' + t.hours).slice(-2));\n        }\n        if (updateDays || t.seconds === 59) {\n            t.minutes = t.minutes < 0 ? 0 : t.minutes;\n            $clock.find('.count-mins').text(('0' + t.minutes).slice(-2));\n        }\n        t.seconds = t.seconds < 0 ? 0 : t.seconds;\n        $clock.find('.count-secs').text(('0' + t.seconds).slice(-2));\n\n        if (t.total <= 0) {\n            clearInterval(prague_timeinterval);\n        }\n    }\n\n    if ($('.prague-coming-time-wrapper').length) {\n        var comingTimeWrapper = $('.prague-coming-time-wrapper');\n\n        comingTimeWrapper.each(function () {\n\n            var self = $(this),\n                endTime = self.attr('data-end'),\n                $mask_clock = self.find('.coming-time-item');\n\n            updateClock($mask_clock, endTime, true);\n\n            prague_timeinterval = setInterval(function () {\n                updateClock($mask_clock, endTime);\n            }, 1000);\n\n        });\n    }\n\n    /***********************************/\n    /* INIT VIVUS FOR SVG */\n    /**********************************/\n    function initVivus() {\n\n        $('.prague-svg').each(function (index) {\n\n            var that = $(this);\n            var svgIndex = 'my-svg' + index;\n\n            that.addClass(svgIndex).attr('id', svgIndex);\n\n            vivus[svgIndex] = new Vivus(svgIndex, {\n                duration: 300,\n            })\n        })\n    }\n\n\n    /***********************************/\n    /* FILMSTRIP SLIDER HEIGHT */\n    /**********************************/\n    function filmstripSliderHeight() {\n        if ($('.prague_filmstrip').not('no-footer-content')) {\n            var filmstripWrapperHeight = $('.prague_filmstrip').height(),\n                filmstripSlider = $('.filmstrip-slider'),\n                filmstripFooterHeight = $('.filmstrip-footer').innerHeight();\n\n            filmstripSlider.height(filmstripWrapperHeight - filmstripFooterHeight);\n        }\n    }\n\n\n    /***********************************/\n    /* FILMSTRIP FILTER */\n    /**********************************/\n    // DROPDOWN MENU\n    var dropdown = document.querySelectorAll('.prague-dropdown');\n    var dropdownArray = Array.prototype.slice.call(dropdown, 0);\n    dropdownArray.forEach(function (el) {\n        var button = el.querySelector('a[data-toggle=\"dropdown\"]'),\n            menu = el.querySelector('.prague-dropdown-menu'),\n            arrow = button.querySelector('i.icon-arrow');\n\n        button.onclick = function (event) {\n            if (!menu.hasClass('showee')) {\n                $(this).addClass('active');\n                menu.classList.add('showee');\n                menu.classList.remove('hidee');\n                arrow.classList.add('openee');\n                arrow.classList.remove('closee');\n                event.preventDefault();\n            } else {\n                $(this).removeClass('active');\n                menu.classList.remove('showee');\n                menu.classList.add('hidee');\n                arrow.classList.remove('openee');\n                arrow.classList.add('closee');\n                event.preventDefault();\n            }\n        };\n    })\n\n    Element.prototype.hasClass = function (className) {\n        return this.className && new RegExp(\"(^|\\\\s)\" + className + \"(\\\\s|$)\").test(this.className);\n    };\n\n    // FILTER\n    $('.filmstrip-filter .prague-dropdown-menu li').on('click', function (e) {\n        var filterValue = '.' + $(this).attr('data-filter');\n        $('.filmstrip-slider').slick('slickUnfilter');\n        $('.filmstrip-slider').slick('slickFilter', filterValue);\n\n        $('.prague-dropdown a[data-toggle=\"dropdown\"]').removeClass('active');\n        $('.prague-dropdown-menu').removeClass('showee');\n        $('.prague-dropdown-menu').addClass('hidee');\n        $('.prague-dropdown i.icon-arrow').removeClass('openee');\n        $('.prague-dropdown i.icon-arrow').addClass('closee');\n\n        e.preventDefault();\n    });\n\n\n    /***********************************/\n    /* TOP FILTER */\n    /**********************************/\n    function openTopFilter() {\n        $(this).toggleClass('active');\n        $('.filter-nav').find('i').toggleClass('fa-filter fa-times');\n        $('.prague_filter_projects').slideToggle();\n        $('.prague-header').toggleClass('open-filter');\n        $('body, html').toggleClass('no-scroll');\n    }\n\n    $('.filter-nav').on('click', function (e) {\n        openTopFilter();\n        e.preventDefault();\n    });\n\n    $('.prague_filter_projects .prague_filter_item li').on('click', function (e) {\n        $(this).toggleClass('active');\n        e.preventDefault();\n    });\n\n    $('.prague_filter_link_wrapper .filter-btn').on('click', function (e) {\n\n        var filterValue = [];\n        $('.prague_filter_projects [data-filter].active').each(function (i) {\n            filterValue[i] = '.' + $(this).attr('data-filter');\n        });\n\n        var separator = ',';\n        if ($(this).attr('data-filtering-type') == 'all_criteria') {\n            separator = '';\n        }\n\n        $('.prague_services, .prague_books, .prague_exhibition_grid, .prague_grid, .prague_masonry').isotope({\n            filter: filterValue.join(separator)\n        });\n\n        setTimeout(function () {\n            openTopFilter();\n        }, 100);\n\n        e.preventDefault();\n    });\n\n    $('.filter-clear-all').on('click', function (e) {\n        $('.prague_filter_projects .prague_filter_item li').removeClass('active');\n        e.preventDefault();\n    });\n\n\n    /***********************************/\n    /* TIMELINE SORTING */\n    /**********************************/\n    $('.project-time-list-header .time-list-header-col span').on('click', function (e) {\n        $(this).parent('.time-list-header-col').addClass('active').siblings().removeClass('active');\n        var sortingValue = $(this).parent('.time-list-header-col').attr('data-sort');\n\n        $('.prague_timeline_list').isotope({\n            sortBy: sortingValue\n        });\n\n        e.preventDefault();\n    });\n\n\n    /***********************************/\n    /* TIMELINE IMAGE HEIGHT & SCROLL */\n    /**********************************/\n\n    function timelineImageHeight() {\n\n        setTimeout(function () {\n\n            var timelineWrapper = $('.prague_timeline'),\n                timelineContentWrapperHeight = $('.project-timeline-content-wrapper').height();\n\n            if (winH < timelineContentWrapperHeight + 78) {\n                timelineWrapper.css('height', timelineContentWrapperHeight + 78);\n            } else {\n                timelineWrapper.css('height', winH);\n            }\n\n        }, 20);\n    }\n\n    $('.prague_timeline .project-timeline-item').on('click', function (e) {\n\n        e.preventDefault();\n\n        var $this = $(this),\n            this_position_top = $this.position().top,\n            $gallery_row = $('.timeline-img-item[data-unique-key=' + $this.data('post-key') + ']'),\n            item_height = $gallery_row.height(),\n            $gallery_wrapper = $('.project-timeline-img-wrapper'),\n            gallery_wrapper_height = $gallery_wrapper.height();\n\n        var scroll_to = $gallery_wrapper.scrollTop() + $gallery_row.position().top;\n\n\n\n        var this_offset_bottom = gallery_wrapper_height - this_position_top;\n\n        if (this_offset_bottom < item_height) {\n            scroll_to = scroll_to - gallery_wrapper_height + item_height - 45;\n        } else {\n            scroll_to = scroll_to - this_position_top + 15;\n        }\n\n        $gallery_wrapper.animate({\n            scrollTop: scroll_to\n        }, 500);\n\n        $('.timeline-img-item').removeClass('active');\n        $('.project-timeline-item').removeClass('active');\n\n        $this.addClass('active');\n        $gallery_row.addClass('active');\n\n\n    });\n\n    $('.prague_timeline .project-timeline-item .time-item-link').on('click', function (e) {\n        $('.prague_timeline .project-timeline-item').off('click');\n    });\n\n\n    $('.timeline-img-item').on('mouseenter', function () {\n        var data_unique_key = $(this).attr('data-unique-key');\n        $('.project-timeline-item').removeClass('active_hover');\n        $('.project-timeline-item[data-post-key=' + data_unique_key + ']').addClass('active_hover');\n    });\n\n    $('.timeline-img-item').on('mouseleave', function () {\n        $('.project-timeline-item').removeClass('active_hover');\n    });\n\n    /***********************************/\n    /* TIMELINE EXHIBITION */\n    /**********************************/\n    var scrollSelector = '.timeline-exh-nav-list li a', // selector menu link\n        active_class = 'active',\n        time = 1000,\n        contentTop = {},\n        contentOffset = 0,\n        currentAnchor = window.location.hash,\n        scrollFlag = 0;\n\n    // Fill object with scroll blocks data (offset and height)\n    window.setContentTopObject = function () {\n        contentTop = {};\n        $(scrollSelector).each(function () {\n            if (this.hash && $(this.hash).length) {\n                $(this).attr('data-id', this.hash);\n                var $this = $(this.hash);\n                var offset_top = $this.offset().top;\n                contentTop[this.hash] = {\n                    'top': Math.round(offset_top - contentOffset),\n                    'bottom': Math.round(offset_top - contentOffset + $this.outerHeight())\n                };\n            }\n        });\n    }\n\n    /* $(window).on('load', function(){\n        setContentTopObject();\n    });\n\n    $(window).on('resize', function(){\n        setContentTopObject();\n    });\n */\n\n\n    function setImmediateAnchor(anchor, time) {\n\n        if (anchor && $(anchor.hash).length) {\n            scrollFlag = 1;\n            var link_hash = anchor.hash;\n\n            link_hash = $('[data-id=\"' + link_hash + '\"]').position().top;\n\n            $('html, body').stop().animate({\n                'scrollTop': link_hash\n            }, time, function () {\n\n                if (history.pushState) {\n                    history.pushState(null, null, link_hash);\n                } else {\n                    location.hash = link_hash;\n                }\n\n                currentAnchor = link_hash;\n                scrollFlag = 0;\n                $(scrollSelector).removeClass(active_class);\n                $(scrollSelector + '[data-id=\"' + currentAnchor + '\"]').addClass(active_class);\n            });\n\n        }\n    }\n\n    /*$(window).on('load', function(){\n        if ( $(window).scrollTop() > 0 && location.hash ) {\n            setImmediateAnchor(location,1000);\n        };\n    });*/\n\n    //setImmediateAnchor($(scrollSelector+'[href=\"'+location.href.split('#')[0]+currentAnchor+'\"]')[0], 1);\n\n    function stickyTimeline() {\n\n        // current distance top\n        var stickyTop = $('.prague_exhibition_timeline').offset().top,\n            scrollTop = $(window).scrollTop();\n\n        // if we scroll more than the navigation, change its position to fixed and add class 'fxd', otherwise change it back to absolute and remove the class\n        if (scrollTop > stickyTop) {\n            $('.project-timeline-exh-nav').css({\n                'position': 'fixed',\n                'top': 0\n            }).addClass('fxd');\n\n            // add padding to the body to make up for the loss in heigt when the menu goes to a fixed position.\n            // When an item is fixed, its removed from the flow so its height doesnt impact the other items on the page\n        } else {\n            $('.project-timeline-exh-nav').css('position', 'absolute').removeClass('fxd');\n            //remove the padding we added.\n        }\n\n    };\n\n    // Animate scroll after clicking menu link\n    $(scrollSelector).on('click', function (e) {\n\n        e.preventDefault();\n\n        //check dom element\n        if (!this.hash && !$(this.hash).length) {\n            return true;\n        }\n\n        stickyTimeline();\n\n        setImmediateAnchor(this, 1000);\n\n\n    });\n\n    function setScrollAnchor() {\n        if (!scrollFlag) {\n            var scrollPositionTop = $(window).scrollTop();\n            for (var p in contentTop) {\n                if (contentTop[p].top <= scrollPositionTop && contentTop[p].bottom > scrollPositionTop && currentAnchor != p) {\n\n                    $(scrollSelector).removeClass(active_class);\n                    if (history.pushState) {\n                        history.pushState(null, null, p);\n                    } else {\n                        location.hash = p;\n                    }\n                    $(scrollSelector).parent().removeClass(active_class);\n                    $(scrollSelector + '[data-id=\"' + p + '\"]').addClass(active_class);\n                    currentAnchor = p;\n                    break;\n                }\n            }\n        }\n    }\n\n\n    /*$('html, body').on('wheel',  function(e){\n        stickyTimeline();\n    });\n    $('html, body').on('scroll mousedown DOMMouseScroll mousewheel keyup', function(e){\n\n            if ( (e.which > 0 || e.type == 'mousedown' || e.type == 'mousewheel') && scrollFlag ){\n                $('html,body').stop();\n                scrollFlag = 0;\n                setScrollAnchor();\n            } else {\n                if (!scrollFlag) {\n                    scrollFlag = 0;\n                    setScrollAnchor();\n                };\n            }\n    });*/\n\n\n    /***********************************/\n    /* SLICK SLIDER*/\n    /**********************************/\n    function initSlick() {\n\n        $('.filmstrip-slider').each(function (index) {\n\n            var that = $(this);\n\n            var sliderIndex = 'slick-unique-id-' + index;\n\n            that.addClass(sliderIndex + ' initialized').attr('id', sliderIndex);\n\n            var accessibilityVar = parseInt(that.attr('data-key'), 10);\n            var arrowsVar = parseInt(that.attr('data-arrows'), 10);\n            var autoPlayVar = parseInt(that.attr('data-autoplay'), 10);\n            var autoPlaySpeedVar = parseInt(that.attr('data-autoplay-speed'), 10);\n            var speedVar = parseInt(that.attr('data-speed'), 10);\n\n            that.slick({\n                dots: false,\n                slidesToScroll: 1,\n                variableWidth: true,\n                infinite: false,\n                centerMode: false,\n                prevArrow: '<a href=\"#\" class=\"slick-prev\"></a>',\n                nextArrow: '<a href=\"#\" class=\"slick-next\"></a>',\n\n                accessibility: !!accessibilityVar,\n                arrows: !!arrowsVar,\n                autoplay: !!autoPlayVar,\n                autoplaySpeed: autoPlaySpeedVar,\n                speed: speedVar,\n            });\n\n            setTimeout(function () {\n                that[index].slick.refresh();\n            }, 0);\n        });\n\n    }\n\n\n    function initProjectDetailSlider() {\n\n        var main = $('.project-detail-main-slider');\n        var thumb = $('.project-detail-thumb-slider');\n\n        if (main.length) {\n            var accessibilityVar = parseInt(main.attr('data-key'), 10);\n            var arrowsVar = parseInt(main.attr('data-arrows'), 10);\n            var autoPlayVar = parseInt(main.attr('data-autoplay'), 10);\n            var autoPlaySpeedVar = parseInt(main.attr('data-autoplay-speed'), 10);\n            var speedVar = parseInt(main.attr('data-speed'), 10);\n            var variableWidthVar = parseInt(main.attr('data-width'), 10);\n            var fadeVar = parseInt(main.attr('data-fade'), 10);\n            var asNavForVar = main.attr('data-for');\n            var focusOnSelectVar = parseInt(main.attr('data-focus'), 10);\n            var slidesToShowVar = parseInt(main.attr('data-slides'), 10);\n            var verticalVar = parseInt(main.attr('data-vertical'), 10);\n            var verticalSwipingVar = parseInt(main.attr('data-vertical-swiping'), 10);\n\n            main.slick({\n                dots: false,\n                slidesToScroll: 1,\n                infinite: true,\n                centerMode: false,\n                prevArrow: '<a href=\"#\" class=\"slick-prev\"></a>',\n                nextArrow: '<a href=\"#\" class=\"slick-next\"></a>',\n                cssEase: 'linear',\n\n                slidesToShow: slidesToShowVar,\n                accessibility: !!accessibilityVar,\n                arrows: !!arrowsVar,\n                autoplay: !!autoPlayVar,\n                autoplaySpeed: autoPlaySpeedVar,\n                speed: speedVar,\n                variableWidth: !!variableWidthVar,\n                fade: !!fadeVar,\n                asNavFor: asNavForVar,\n                focusOnSelect: !!focusOnSelectVar,\n                vertical: !!verticalVar,\n                verticalSwiping: !!verticalSwipingVar\n\n            });\n        }\n\n        if (thumb.length) {\n            var accessibilityVar = parseInt(thumb.attr('data-key'), 10);\n            var arrowsVar = parseInt(thumb.attr('data-arrows'), 10);\n            var autoPlayVar = parseInt(thumb.attr('data-autoplay'), 10);\n            var autoPlaySpeedVar = parseInt(thumb.attr('data-autoplay-speed'), 10);\n            var speedVar = parseInt(thumb.attr('data-speed'), 10);\n            var variableWidthVar = parseInt(thumb.attr('data-width'), 10);\n            var fadeVar = parseInt(thumb.attr('data-fade'), 10);\n            var asNavForVar = thumb.attr('data-for');\n            var focusOnSelectVar = parseInt(thumb.attr('data-focus'), 10);\n            var slidesToShowVar = parseInt(thumb.attr('data-slides'), 10);\n            var verticalVar = parseInt(thumb.attr('data-vertical'), 10);\n            var verticalSwipingVar = parseInt(thumb.attr('data-vertical-swiping'), 10);\n\n\n            thumb.slick({\n                dots: false,\n                slidesToScroll: 1,\n                infinite: true,\n                centerMode: false,\n                prevArrow: '<a href=\"#\" class=\"slick-prev\"></a>',\n                nextArrow: '<a href=\"#\" class=\"slick-next\"></a>',\n                cssEase: 'linear',\n\n                slidesToShow: slidesToShowVar,\n                accessibility: !!accessibilityVar,\n                arrows: !!arrowsVar,\n                autoplay: !!autoPlayVar,\n                autoplaySpeed: autoPlaySpeedVar,\n                speed: speedVar,\n                variableWidth: !!variableWidthVar,\n                fade: !!fadeVar,\n                asNavFor: asNavForVar,\n                focusOnSelect: !!focusOnSelectVar,\n                vertical: !!verticalVar,\n                verticalSwiping: !!verticalSwipingVar,\n                responsive: [{\n                    breakpoint: 768,\n                    settings: {\n                        slidesToShow: 2,\n                        slidesToScroll: 1,\n                        vertical: false,\n                        verticalSwiping: false\n                    }\n                }]\n            });\n        }\n    }\n\n\n    function initProjectDetailFullScreen() {\n\n        var main = $('.project-detail-full-main');\n        var thumb = $('.project-detail-full-thumb');\n\n        if (main.length) {\n            var accessibilityVar = parseInt(main.attr('data-key'), 10);\n            var arrowsVar = parseInt(main.attr('data-arrows'), 10);\n            var autoPlayVar = parseInt(main.attr('data-autoplay'), 10);\n            var autoPlaySpeedVar = parseInt(main.attr('data-autoplay-speed'), 10);\n            var speedVar = parseInt(main.attr('data-speed'), 10);\n            var variableWidthVar = parseInt(main.attr('data-width'), 10);\n            var fadeVar = parseInt(main.attr('data-fade'), 10);\n            var asNavForVar = main.attr('data-for');\n            var focusOnSelectVar = parseInt(main.attr('data-focus'), 10);\n            var slidesToShowVar = parseInt(main.attr('data-slides'), 10);\n            var verticalVar = parseInt(main.attr('data-vertical'), 10);\n            var verticalSwipingVar = parseInt(main.attr('data-vertical-swiping'), 10);\n\n            main.slick({\n                dots: false,\n                slidesToScroll: 1,\n                infinite: true,\n                centerMode: false,\n                prevArrow: '<a href=\"#\" class=\"slick-prev\"></a>',\n                nextArrow: '<a href=\"#\" class=\"slick-next\"></a>',\n                cssEase: 'linear',\n\n                slidesToShow: slidesToShowVar,\n                accessibility: !!accessibilityVar,\n                arrows: !!arrowsVar,\n                autoplay: !!autoPlayVar,\n                autoplaySpeed: autoPlaySpeedVar,\n                speed: speedVar,\n                variableWidth: !!variableWidthVar,\n                fade: !!fadeVar,\n                asNavFor: asNavForVar,\n                focusOnSelect: !!focusOnSelectVar,\n                vertical: !!verticalVar,\n                verticalSwiping: !!verticalSwipingVar\n\n            });\n        }\n\n        if (thumb.length) {\n            var accessibilityVar = parseInt(thumb.attr('data-key'), 10);\n            var arrowsVar = parseInt(thumb.attr('data-arrows'), 10);\n            var autoPlayVar = parseInt(thumb.attr('data-autoplay'), 10);\n            var autoPlaySpeedVar = parseInt(thumb.attr('data-autoplay-speed'), 10);\n            var speedVar = parseInt(thumb.attr('data-speed'), 10);\n            var variableWidthVar = parseInt(thumb.attr('data-width'), 10);\n            var fadeVar = parseInt(thumb.attr('data-fade'), 10);\n            var asNavForVar = thumb.attr('data-for');\n            var focusOnSelectVar = parseInt(thumb.attr('data-focus'), 10);\n            var slidesToShowVar = parseInt(thumb.attr('data-slides'), 10);\n            var verticalVar = parseInt(thumb.attr('data-vertical'), 10);\n            var verticalSwipingVar = parseInt(thumb.attr('data-vertical-swiping'), 10);\n\n\n            thumb.slick({\n                dots: false,\n                slidesToScroll: 1,\n                infinite: true,\n                centerMode: false,\n                prevArrow: '<a href=\"#\" class=\"slick-prev\"></a>',\n                nextArrow: '<a href=\"#\" class=\"slick-next\"></a>',\n                cssEase: 'linear',\n\n                slidesToShow: slidesToShowVar,\n                accessibility: !!accessibilityVar,\n                arrows: !!arrowsVar,\n                autoplay: !!autoPlayVar,\n                autoplaySpeed: autoPlaySpeedVar,\n                speed: speedVar,\n                variableWidth: !!variableWidthVar,\n                fade: !!fadeVar,\n                asNavFor: asNavForVar,\n                focusOnSelect: !!focusOnSelectVar,\n                vertical: !!verticalVar,\n                verticalSwiping: !!verticalSwipingVar,\n                responsive: [{\n                    breakpoint: 1200,\n                    settings: {\n                        slidesToShow: 2,\n                        slidesToScroll: 1,\n                        vertical: false,\n                        verticalSwiping: false\n                    }\n                }]\n\n            });\n        }\n    }\n\n    $('.project-detail-full-overlay .icon').on('click', function () {\n        $('.project-detail-full-overlay').toggleClass('open');\n        $('.project-detail-full-thumb').toggleClass('open');\n        $('.project-detail-fullscreen-content').toggleClass('open');\n        $('.prague-header').toggleClass('open-detail');\n    })\n\n    /***********************************/\n    /* PROJECT LIST SLIDER */\n    /**********************************/\n    function scrollCenterProjectList() {\n\n        var projectList = $('.prague_list');\n\n        if (projectList.length) {\n            for (var i = 0; i < projectList.length; i++) {\n                if ($(window).scrollTop() >= $(projectList[i]).offset().top - $(window).height() * 0.5) {\n                    $('html, body').animate({\n                        scrollTop: $(projectList[i]).offset().top\n                    }, 1000);\n                }\n            }\n        }\n    }\n\n\n    /***********************************/\n    /* PROJECT CATEGORIES */\n    /**********************************/\n    if ($('.prague-categories-outer').length) {\n\n        var categoriesOuter = $('.prague-categories-outer');\n\n        $(categoriesOuter).each(function () {\n            var _this = $(this);\n            if (!($(_this).prev('.prague-categories-outer').length)) {\n                $(_this).find('.categories_btn_up').addClass('hide')\n            }\n            if (!($(_this).next('.prague-categories-outer').length)) {\n                $(_this).find('.categories_btn_down').addClass('hide')\n            }\n        })\n    }\n\n    $('.prague_categories_btn .categories_btn_up').on('click', function () {\n\n        var prevCategory = $(this).closest('.prague-categories-outer').prev('.prague-categories-outer').offset().top;\n\n        $('html, body').animate({\n            scrollTop: prevCategory\n        }, 1000);\n    })\n\n    $('.prague_categories_btn .categories_btn_down').on('click', function () {\n\n        var nextCategory = $(this).closest('.prague-categories-outer').next('.prague-categories-outer').offset().top;\n\n        $('html, body').animate({\n            scrollTop: nextCategory\n        }, 1000);\n    })\n\n\n    /***********************************/\n    /* PORTFOLIO */\n    /**********************************/\n\n    function pragueGrid() {\n        var block = '.prague_services, .prague_books, .prague_media, .prague_exhibition_grid, .prague_grid';\n\n        if ($(block).length) {\n\n            var $portfolioGrid = $(block),\n                $portfolioItemWrapp = $portfolioGrid.find('.portfolio-item-wrapp');\n\n\n            isotopeGridVar = $portfolioGrid.isotope({\n                itemSelector: '.portfolio-item-wrapp',\n                layoutMode: 'fitRows',\n            });\n        }\n    }\n\n    function pragueMasonry() {\n        var block = '.prague_masonry';\n        if ($(block).length) {\n            var $portfolioMasonry = $(block),\n                $portfolioItemWrapp = $portfolioMasonry.find('.portfolio-item-wrapp');\n\n            isotopeMasonryVar = $portfolioMasonry.isotope({\n                itemSelector: '.portfolio-item-wrapp',\n                percentPosition: true,\n            });\n        }\n    }\n\n    function pragueTimelineList() {\n        var block = '.prague_timeline_list';\n        if ($(block).length) {\n            var $portfolioTimeline = $(block);\n\n            $portfolioTimeline.isotope({\n                getSortData: {\n                    first: '.cat1',\n                    title: '.time-list-item-title a',\n                    third: '.cat3',\n                    fourth: '.cat4'\n                }\n            });\n        }\n    }\n\n\n    /***********************************/\n    /* PROJECT DETAIL PARALLAX */\n    /**********************************/\n\n    function parallaxDetailHeigth() {\n\n        if ($('.project-detail-parallax').length) {\n            $('html').css({\n                // 'height': '100%',\n                // 'overflow-x': 'visible'\n            });\n            $('body').css({\n                // 'overflow-x': 'visible'\n            });\n        }\n    }\n\n    var Parallax = {\n        selector: '.js-detail-parallax-item-bg',\n        covers: $([]),\n        amount: 0,\n        initialized: false,\n        start: 0,\n        stop: 0,\n\n        initialize: function () {\n            var that = this;\n\n            $('.project-detail-parallax-item').each(function (i, hero) {\n\n\n\n                var $hero = $(hero),\n                    $cover = $hero.children('.detail-parallax-item-bg'),\n                    $image = $cover.find('img');\n\n                $hero.find('.detail-parallax-item-bg').show();\n\n                if (!$image.length) {\n                    $image = $cover.children('picture').children('img');\n                }\n\n                if ($image.length) {\n\n                    var scaleY,\n                        scale,\n                        newWidth,\n                        imageWidth = $image.css('width', 'auto').outerWidth(),\n                        imageHeight = $image.outerHeight(),\n                        // heroHeight = $hero.outerHeight(),\n                        heroHeight = winH,\n                        scaleX = winW / imageWidth;\n                    scaleY = winH / imageHeight;\n                    scale = Math.max(scaleX, scaleY);\n                    newWidth = parseInt(imageWidth * scale);\n\n                    $image.css({\n                        top: (heroHeight - imageHeight * scale) / 2,\n                        width: newWidth\n                    });\n\n                    $hero.css({\n                        height: heroHeight\n                    })\n                }\n\n            });\n\n            // if this is a touch device initialize simple image\n            if (_ismobile) {\n                $('.project-detail-parallax').addClass('touch');\n                return;\n            }\n\n            documentHeight = $(document).height();\n            // documentHeight = $('.js-detail-parallax-item-bg').length * winH;\n\n            // this.stop = documentHeight - winH;\n            // this.stop = $('.project-detail-parallax').height();\n            this.amount = $('.project-detail-parallax').data('parallax-speed');\n            this.initialized = true;\n\n            // clean up\n            $('.project-detail-parallax-cover').empty();\n\n            $('.js-detail-parallax-item-bg').each(function (i, cover) {\n\n                // grab all the variables we need\n                var $cover = $(cover),\n                    opacity = $cover.css('opacity'),\n                    $target = $cover.children().not('span'),\n                    $image = $target.filter('img'),\n                    $slider = $target.not('img'),\n                    $clone = $cover.clone(),\n                    $cloneTarget = $clone.children().not('span'),\n                    $cloneImage = $cloneTarget.filter('img'),\n                    $cloneSlider = $cloneTarget.not('img'),\n                    imageWidth = $image.outerWidth(),\n                    imageHeight = $image.outerHeight(),\n                    $hero = $cover.parent(),\n                    // heroHeight = $hero.outerHeight(),\n                    heroHeight = winH,\n                    heroOffset = $hero.offset(),\n                    adminBar = parseInt($html.css('marginTop')),\n                    amount = that.amount,\n\n                    // we may need to scale the image up or down\n                    // so we need to find the max scale of both X and Y axis\n                    scaleX,\n                    scaleY,\n                    scale,\n                    newWidth,\n                    distance,\n                    speeds = {\n                        static: 0,\n                        slow: 0.25,\n                        medium: 0.5,\n                        fast: 0.75,\n                        fixed: 1\n                    };\n\n                $cover.removeAttr('style');\n                $clone.data('source', $cover).appendTo('.project-detail-parallax-cover').show();\n\n                $clone.css('height', heroHeight);\n\n                // let's see if the user wants different speed for different whateva'\n                if (typeof parallax_speeds !== \"undefined\") {\n                    $.each(speeds, function (speed, value) {\n                        if (typeof parallax_speeds[speed] !== \"undefined\") {\n                            if ($hero.is(parallax_speeds[speed])) {\n                                amount = value;\n                            }\n                        }\n                    });\n                }\n\n                scaleX = winW / imageWidth;\n                scaleY = (heroHeight + (winH - heroHeight) * amount) / imageHeight;\n                scale = Math.max(scaleX, scaleY);\n                newWidth = parseInt(imageWidth * scale);\n                distance = (winH - heroHeight) * amount;\n\n                // set the new width, the image should have height: auto to scale properly\n                $cloneImage.css({\n                    width: newWidth,\n                    top: (heroHeight - imageHeight * scale) / 2,\n                });\n\n                // if there's a slider we are working with we may have to set the height\n                // $cloneSlider.css('height', heroHeight + distance);\n\n                // align the clone to its surrogate\n                // we use TweenMax cause it'll take care of the vendor prefixes\n                TweenMax.to($clone, 0, {\n                    y: heroOffset.top - adminBar\n                });\n\n                // prepare image / slider timeline\n                var parallax = {\n                        start: heroOffset.top - winH,\n                        // end: heroOffset.top + heroHeight,\n                        end: heroOffset.top + winH,\n\n                        timeline: new TimelineMax({\n                            paused: true\n                        })\n                    },\n                    // the container timeline\n                    parallax2 = {\n                        start: 0,\n                        end: documentHeight,\n                        // end: winH,\n                        timeline: new TimelineMax({\n                            paused: true\n                        })\n                    };\n\n                // move the image for a parallax effect\n                parallax.timeline.fromTo($cloneTarget, 1, {\n                    y: '-=' + (winH + heroHeight) * amount / 2\n                }, {\n                    y: '+=' + (winH + heroHeight) * amount,\n                    ease: Linear.easeNone,\n                    force3D: true\n                });\n\n                // parallax.timeline.fromTo($cloneSlider.find('.hero__content, .hero__caption'), 1, {\n                //     y: '+=' + winH * amount\n                // }, {\n                //     y: '-=' + winH * amount * 2,\n                //     ease: Linear.easeNone,\n                //     force3D: true\n                // }, '-=1');\n\n                // move the container to match scrolling\n                parallax2.timeline.fromTo($clone, 1, {\n                    y: heroOffset.top\n                }, {\n                    y: heroOffset.top - documentHeight,\n                    // y: heroOffset.top - winH,\n                    // y: heroOffset.top - $html.height(),\n                    ease: Linear.easeNone,\n                    force3D: true\n                });\n\n                // set the parallax info as data attributes on the clone to be used on update\n                $clone\n                    .data('parallax', parallax)\n                    .data('parallax2', parallax2);\n\n                // update progress on the timelines to match current scroll position\n                that.update();\n\n            });\n\n        },\n\n        update: function () {\n\n            if (_ismobile) {\n                return;\n            }\n\n            $('.project-detail-parallax-cover .detail-parallax-item-bg').each(function (i, cover) {\n                var $cover = $(cover),\n                    parallax = $cover.data('parallax'),\n                    parallax2 = $cover.data('parallax2'),\n                    progress = (latestKnownScrollY - parallax.start) / (parallax.end - parallax.start),\n                    progress2 = (latestKnownScrollY - parallax2.start) / (parallax2.end - parallax2.start);\n\n                if (0 <= progress && 1 >= progress) {\n                    parallax.timeline.progress(progress);\n                }\n\n                if (0 <= progress2 && 1 >= progress2) {\n                    parallax2.timeline.progress(progress2);\n                }\n            });\n        }\n    };\n\n    /***********************************/\n    /* PROJECT DETAIL BEFORE AFTER */\n    /**********************************/\n\n    function beforeAfter() {\n        if ($('.ba-slider').length) {\n            $('.ba-slider').beforeAfter();\n        }\n    }\n\n    /* Share popup */\n    $('[data-share]').on('click', function () {\n\n        var w = window,\n            url = this.getAttribute('data-share'),\n            title = '',\n            w_pop = 600,\n            h_pop = 600,\n            scren_left = w.screenLeft ? w.screenLeft : screen.left,\n            scren_top = w.screenTop ? w.screenTop : screen.top,\n            width = w.innerWidth,\n            height = w.innerHeight,\n            left = ((width / 2) - (w_pop / 2)) + scren_left,\n            top = ((height / 2) - (h_pop / 2)) + scren_top,\n            newWindow = w.open(url, title, 'scrollbars=yes, width=' + w_pop + ', height=' + h_pop + ', top=' + top + ', left=' + left);\n\n        if (w.focus) {\n            newWindow.focus();\n        }\n\n        return false;\n    });\n\n    // (function ( $ ) {\n\n    //     $.fn.foxParalax = function(a) {\n\n    //         var is_on_screen = function(el){\n    //             var scrolled = $(window).scrollTop();\n\n    //             var win = $(window);\n    //             var viewport = {\n    //                 top : win.scrollTop(),\n    //                 left : win.scrollLeft()\n    //             };\n    //             //viewport.right = viewport.left + win.width();\n    //             viewport.bottom = viewport.top + win.height();\n\n    //             var bounds = $(el).offset();\n    //             //bounds.right = bounds.left + el.outerWidth();\n    //             bounds.bottom = bounds.top + $(el).outerHeight();\n\n    //             return (!(viewport.bottom < bounds.top || viewport.top > bounds.bottom));\n    //         }\n\n\n\n    //         return this.each(function() {\n\n    //             var offsetEl = $(this).position().top,\n    //                 el = this;\n    //             $(window).scroll(function(e){\n\n    //                 if (is_on_screen(el)) {\n\n    //                     var scrolled = $(window).scrollTop(),\n    //                         moveTop = scrolled * 0.15; //speed;\n\n    //                     if ( $(el).hasClass('column_paralax') ) {\n\n    //                           $(el).css({\n    //                             \"transform\":\"translateY(-\" + moveTop+\"px)\"\n    //                           });\n\n    //                     } else {\n    //                          $(el).find('.project-grid-item-img').css({\n    //                             \"background-position\" : \"0 -\" + (moveTop/2)+\"px\"\n    //                           });\n    //                     }\n    //                 }\n\n    //             });\n\n    //         });\n\n    //     }\n\n\n    // }( jQuery ));\n\n\n    /***********************************/\n    /* LOAD MORE */\n    /**********************************/\n    $('.load').on('click', function (e) {\n        $('.button-hide').addClass('button-show');\n        pragueGrid();\n        $('.load-btn').fadeOut(500);\n    });\n\n    /***********************************/\n    /* PROTECTED PAGE */\n    /**********************************/\n\n    $('.protect-page').on('submit', function (e) {\n        e.preventDefault();\n        if ($('#pwbox-1234').val() == \"enter\") {\n            $('.protect-main-content').fadeOut(1000);\n            $('.gallery-hidden').fadeIn(2000);\n            pragueGrid();\n        } else if ($('#pwbox-1234').val() == \"\") {\n            $('.prague-protected-content p').html('<p>(Please, add the password)</p>');\n        } else {\n            $('.prague-protected-content p').html('<p>(You entered the wrong password)</p>');\n        }\n\n    });\n\n\n\n    $('.js-load-more-btn').on('click', function (e) {\n\n        var $btn = $(this),\n            $btnText = $btn.html();\n        $btn.html('LOADING...');\n\n        var $wrapper = $btn.closest('[data-unique-key]'),\n            uniqueKey = $wrapper.data('unique-key'),\n            $container = $wrapper.find('.js-load-more-block');\n\n        var pageNum = parseInt($wrapper.attr('data-start-page'));\n        var max = parseInt($wrapper.attr('data-max-page'));\n        var nextLink = $wrapper.attr('data-next-link');\n\n        if (pageNum <= max) {\n            $.ajax({\n                url: nextLink,\n                type: 'POST',\n                success: function (data) {\n                    var html = $(data).find('[data-unique-key=\"' + uniqueKey + '\"]').find('.js-load-more-block').children('.js-filter-simple-block');\n                    var $items = $(html);\n\n                    if (window.enable_foxlazy) {\n                        setTimeout(function () {\n                            $('img').foxlazy();\n                            $(window).trigger(\"load.foxlazy\");\n                        }, 500);\n                    }\n\n                    if ($container.hasClass('prague-blog-grif-outer') || $container.hasClass('prague_blog')) {\n                        // console.log('second');\n                        $container.append($items);\n                        wpc_add_img_bg('.s-img-switch');\n                    } else {\n                        console.log('here');\n                        setTimeout(function () {\n                            $container.append($items);\n                            $container.isotope('appended', $items);\n                            wpc_add_img_bg('.s-img-switch');\n                        }, 500);\n                    }\n\n                    $btn.html($btnText);\n\n                    $wrapper.attr('data-start-page', ++pageNum);\n                    nextLink = nextLink.replace(/\\/$/, '');\n                    //   console.log(nextLink);\n                    var newLink = createNewLink(nextLink);\n                    nextLink = newLink + (pageNum + 1);\n\n                    //   nextLink = nextLink.replace(/\\/page\\/[0-9]?/, '/page/'+ (pageNum + 1));\n                    $wrapper.attr('data-next-link', nextLink);\n\n                    if (pageNum == max) {\n                        $btn.hide('fast');\n                    }\n                    //              if (isotopeMasonryVar) {\n                    //                 setTimeout(function(){\n                    //                     isotopeMasonryVar.isotope('layout');\n                    //                 },0);\n                    //              } else if (isotopeGridVar) {\n                    //                 setTimeout(function(){\n                    //                     isotopeGridVar.isotope('layout');\n                    //                 },0);\n                    //              }\n                }\n            });\n        }\n        return false;\n    });\n\n    function createNewLink(link) {\n        var numberLength = 0;\n        var oldString = link;\n        var newReverseStr = link.split(\"\").reverse().join(\"\");\n        newReverseStr = newReverseStr.split(\"\");\n        for (var i = 0; i < newReverseStr.length; i++) {\n            if (isNaN(newReverseStr[i])) {\n                break;\n            } else {\n                numberLength++;\n            }\n        }\n        oldString = oldString.slice(0, -numberLength);\n\n        return oldString;\n    }\n\n    function imgWooHeight() {\n        $('.flex-viewport').css('height', $('.flex-active-slide img').height());\n    }\n    $('.flex-control-thumbs li').on('click', function () {\n        setTimeout(function () {\n            $('.flex-viewport').css('height', $('.flex-active-slide img').height());\n        }, 100);\n    });\n\n\n    pageCalculations(function () {\n        wpc_add_img_bg('.s-img-switch');\n        pageHeightCalculate();\n        pageOnlyFullHeight('.prague_filmstrip');\n        pageOnlyFullHeight('.projects-detail-before-banner.fullheight');\n        pageOnlyFullHeight('.project-detail-fullscreen');\n        topFullBannerHeight();\n        upFullWidthVideo();\n        cirleFigure();\n        comingSoonValue();\n        filmstripSliderHeight();\n        timelineImageHeight();\n        Parallax.initialize();\n        setHeightAllIframe();\n        imgWooHeight();\n    });\n\n\n    /* Lazy load */\n    if (window.enable_foxlazy) {\n        // for all image\n        $('img').foxlazy('', function () {\n            if (isotopeMasonryVar) {\n                setTimeout(function () {\n                    isotopeMasonryVar.isotope('layout');\n                }, 1000);\n            }\n            if (isotopeGridVar) {\n                isotopeGridVar.isotope('layout');\n            }\n        });\n    }\n\n    /***********************************/\n    /* ACCORDIONS */\n    /**********************************/\n\n    $('.woocommerce-tabs').on('click', '.tabs-title', function () {\n        var thisItem = this;\n        var thisParent = $(thisItem).parent('.tabs-item-wrapp');\n        var siblings = $(thisItem).siblings('.panel');\n\n        if ($(thisItem).siblings('.panel').length > 0 && $(thisItem).siblings('.panel').css('display') === 'none') {\n            $(siblings).slideDown(400, function () {});\n            $(thisParent).addClass('active').siblings('.tabs-item-wrapp').removeClass('active').children('.panel').slideUp(400, function () {});\n        } else {\n            $(siblings).slideUp(400, function () {});\n            $(thisParent).removeClass('active');\n        }\n        return false;\n    });\n\n    /**********************************/\n    /* WOOCOMMERCE INPUT QUANTITY     */\n    /**********************************/\n    var wrapper = $('.custom-product-quantity');\n\n    if (wrapper.length) {\n        $('body').on('click', '.custom-product-quantity .q_inc, .custom-product-quantity .q_dec', function (e) {\n            e.preventDefault();\n\n            var input = $(this).parent('.custom-product-quantity').find('.qty');\n            var qty = Number(input.val());\n\n            (this.className === 'q_inc') ? qty-- : qty++;\n            qty = (qty > 1) ? qty : 1;\n            input.val(qty).change();\n        });\n    }\n\n    /***********************************/\n    /* POP UP */\n    /**********************************/\n    $(document).ready(function () {\n        $('.js-popup').magnificPopup({\n            delegate: 'a',\n            type: 'image',\n            closeOnContentClick: false,\n            closeBtnInside: false,\n            mainClass: 'mfp-with-zoom mfp-img-mobile',\n            image: {\n                verticalFit: true\n            },\n            gallery: {\n                enabled: true\n            },\n            zoom: {\n                enabled: true,\n                duration: 300, // don't foget to change the duration also in CSS\n                opener: function (element) {\n                    return element.find('img');\n                }\n            }\n        });\n    });\n\n    function showcaseSlider() {\n        $(window).trigger('resize', function () {\n            $(window);\n        });\n    }\n\n    /***********************************/\n    /* SERVICES */\n    /**********************************/\n\n    $('.services.accordion .toggle').on('click', function (e) {\n        e.preventDefault();\n        var $this = $(this);\n        if ($this.next().hasClass('is-show')) {\n            $this.next().removeClass('is-show');\n            $this.next().slideUp(350);\n            $this.find('i').removeClass('ion-minus').addClass('ion-plus');\n        } else {\n            $this.parent().parent().find('li .list-drop').removeClass('is-show');\n            $this.parent().parent().find('li .list-drop').slideUp(350);\n            $this.next().toggleClass('is-show');\n            $this.next().slideToggle(350);\n            $this.closest('.services.accordion').find('.toggle i').removeClass('ion-minus').addClass('ion-plus');\n            $this.find('.ion-plus').addClass('ion-minus').removeClass('ion-plus');\n        }\n    });\n\n    function calcServicesHeight() {\n        if ($('.services.tile').length) {\n            $('.services.tile .item-first').each(function () {\n                var elementFirstH = $(this).height();\n                var element = $(this).next('.item-second');\n                var textHeight = element.find('.text-wrap').outerHeight();\n                if ($(window).width() > 991) {\n                    element.find('.img-wrap').css('height', elementFirstH - textHeight - 30 + 'px');\n                } else {\n                    element.find('.img-wrap').css('height', 'auto');\n                }\n            });\n        }\n    }\n\n\n    $(window).on('load resize', function () {\n        calcServicesHeight();\n        topBannerHeight();\n    });\n\n\n    window.addEventListener(\"orientationchange\", function () {\n        calcServicesHeight();\n        topBannerHeight();\n    });\n\n\n    function fixShowcase() {\n        if ($('.modern-slider-wrap').length) {\n            setTimeout(function () {\n                $(document).trigger('resize');\n            }, 0);\n        }\n    }\n\n\n    /***********************************/\n    /* SHOP SLIDER */\n    /**********************************/\n\n    $('.clicked2').on('click', function () {\n        $('ol li img').removeClass('flex-active');\n        $(this).addClass('flex-active');\n        $('.firstImg').attr('src', 'img/soft-chair/shop-img-3-gallery-2.jpg');\n        $('figure a').attr('href', 'img/soft-chair/shop-img-3-gallery-2.jpg');\n    });\n\n    $('.clicked1').on('click', function () {\n        $('ol li img').removeClass('flex-active');\n        $(this).addClass('flex-active');\n        $('.firstImg').attr('src', 'img/soft-chair/shop-img-3-768x946.jpg');\n        $('figure a').attr('href', 'img/soft-chair/shop-img-3-768x946.jpg');\n    });\n\n    $('.clicked3').on('click', function () {\n        $('ol li img').removeClass('flex-active');\n        $(this).addClass('flex-active');\n        $('.firstImg').attr('src', 'img/soft-chair/shop-img-3-gallery-1.jpg');\n        $('figure a').attr('href', 'img/soft-chair/shop-img-3-gallery-1.jpg');\n    });\n\n    //side-table page//\n\n    $('.clicked21').on('click', function () {\n        $('ol li img').removeClass('flex-active');\n        $(this).addClass('flex-active');\n        $('.firstImg').attr('src', 'img/side-table/shop-img-5-gallery-2.jpg');\n        $('figure a').attr('href', 'img/side-table/shop-img-5-gallery-2.jpg');\n    });\n\n    $('.clicked11').on('click', function () {\n        $('ol li img').removeClass('flex-active');\n        $(this).addClass('flex-active');\n        $('.firstImg').attr('src', 'img/side-table/shop-img-5-768x989.jpg');\n        $('figure a').attr('href', 'img/side-table/shop-img-5-768x989.jpg');\n    });\n\n    $('.clicked31').on('click', function () {\n        $('ol li img').removeClass('flex-active');\n        $(this).addClass('flex-active');\n        $('.firstImg').attr('src', 'img/side-table/shop-img-5-gallery-1.jpg');\n        $('figure a').attr('href', 'img/side-table/shop-img-5-gallery-1.jpg');\n    });\n\n    //modern-end-table page//\n\n\n    $('.clicked22').on('click', function () {\n        $('ol li img').removeClass('flex-active');\n        $(this).addClass('flex-active');\n        $('.firstImg').attr('src', 'img/modern-end-table/shop-img-8-gallery-2.jpg');\n        $('figure a').attr('href', 'img/modern-end-table/shop-img-8-gallery-2.jpg');\n    });\n\n    $('.clicked12').on('click', function () {\n        $('ol li img').removeClass('flex-active');\n        $(this).addClass('flex-active');\n        $('.firstImg').attr('src', 'img/modern-end-table/shop-img-8-768x946.jpg');\n        $('figure a').attr('href', 'img/modern-end-table/shop-img-8-768x946.jpg');\n    });\n\n    $('.clicked32').on('click', function () {\n        $('ol li img').removeClass('flex-active');\n        $(this).addClass('flex-active');\n        $('.firstImg').attr('src', 'img/modern-end-table/shop-img-8-gallery-1.jpg');\n        $('figure a').attr('href', 'img/modern-end-table/shop-img-8-gallery-1.jpg');\n    });\n\n    //bertt-side-table page//\n\n    $('.clicked23').on('click', function () {\n        $('ol li img').removeClass('flex-active');\n        $(this).addClass('flex-active');\n        $('.firstImg').attr('src', 'img/bertt-side-table/shop-img-4-gallery-1.jpg');\n        $('figure a').attr('href', 'img/bertt-side-table/shop-img-4-gallery-1.jpg');\n    });\n\n    $('.clicked13').on('click', function () {\n        $('ol li img').removeClass('flex-active');\n        $(this).addClass('flex-active');\n        $('.firstImg').attr('src', 'img/bertt-side-table/shop-img-4-768x946.jpg');\n        $('figure a').attr('href', 'img/bertt-side-table/shop-img-4-768x946.jpg');\n    });\n\n    $('.single_add_to_cart_button').on('click', function (eventObject) {\n        eventObject.preventDefault();\n        location.href = 'cart.html'\n    });\n\n    $('.add_to_cart_button').on('click', function (eventObject) {\n        eventObject.preventDefault();\n        location.href = 'cart.html'\n    });\n\n    //wooden-nightstand page //\n\n\n    $('.clicked24').on('click', function () {\n        $('ol li img').removeClass('flex-active');\n        $(this).addClass('flex-active');\n        $('.firstImg').attr('src', 'img/wooden-nightstand/shop-img-1-gallery-1.jpg');\n        $('figure a').attr('href', 'img/wooden-nightstand/shop-img-1-gallery-1.jpg');\n    });\n\n    $('.clicked14').on('click', function () {\n        $('ol li img').removeClass('flex-active');\n        $(this).addClass('flex-active');\n        $('.firstImg').attr('src', 'img/wooden-nightstand/shop-img-1-768x946.jpg');\n        $('figure a').attr('href', 'img/wooden-nightstand/shop-img-1-768x946.jpg');\n    });\n\n    $('.clicked34').on('click', function () {\n        $('ol li img').removeClass('flex-active');\n        $(this).addClass('flex-active');\n        $('.firstImg').attr('src', 'img/wooden-nightstand/shop-img-1-gallery-2.jpg');\n        $('figure a').attr('href', 'img/wooden-nightstand/shop-img-1-gallery-2.jpg');\n    });\n\n    //modern-end-table-2 page//\n\n\n    $('.clicked25').on('click', function () {\n        $('ol li img').removeClass('flex-active');\n        $(this).addClass('flex-active');\n        $('.firstImg').attr('src', 'img/modern-end-table-2/shop-img-7-gallery-2.jpg');\n        $('figure a').attr('href', 'img/modern-end-table-2/shop-img-7-gallery-2.jpg');\n    });\n\n    $('.clicked15').on('click', function () {\n        $('ol li img').removeClass('flex-active');\n        $(this).addClass('flex-active');\n        $('.firstImg').attr('src', 'img/modern-end-table-2/shop-img-7-768x946.jpg');\n        $('figure a').attr('href', 'img/modern-end-table-2/shop-img-7-768x946.jpg');\n    });\n\n    $('.clicked35').on('click', function () {\n        $('ol li img').removeClass('flex-active');\n        $(this).addClass('flex-active');\n        $('.firstImg').attr('src', 'img/modern-end-table-2/shop-img-7-gallery-1.jpg');\n        $('figure a').attr('href', 'img/modern-end-table-2/shop-img-7-gallery-1.jpg');\n    });\n\n    //wooden-chair page//\n\n\n    $('.clicked26').on('click', function () {\n        $('ol li img').removeClass('flex-active');\n        $(this).addClass('flex-active');\n        $('.firstImg').attr('src', 'img/wooden-chair/shop-img-2-gallery-3.jpg');\n        $('figure a').attr('href', 'img/wooden-chair/shop-img-2-gallery-3.jpg');\n    });\n\n    $('.clicked16').on('click', function () {\n        $('ol li img').removeClass('flex-active');\n        $(this).addClass('flex-active');\n        $('.firstImg').attr('src', 'img/wooden-chair/shop-img-2-768x946.jpg');\n        $('figure a').attr('href', 'img/wooden-chair/shop-img-2-768x946.jpg');\n    });\n\n    $('.clicked36').on('click', function () {\n        $('ol li img').removeClass('flex-active');\n        $(this).addClass('flex-active');\n        $('.firstImg').attr('src', 'img/wooden-chair/shop-img-2-gallery-2.jpg');\n        $('figure a').attr('href', 'img/wooden-chair/shop-img-2-gallery-2.jpg');\n    });\n\n    //coffe-table page//\n\n    $('.clicked27').on('click', function () {\n        $('ol li img').removeClass('flex-active');\n        $(this).addClass('flex-active');\n        $('.firstImg').attr('src', 'img/coffe-table/shop-img-9-gallery-1.jpg');\n        $('figure a').attr('href', 'img/coffe-table/shop-img-9-gallery-1.jpg');\n    });\n\n    $('.clicked17').on('click', function () {\n        $('ol li img').removeClass('flex-active');\n        $(this).addClass('flex-active');\n        $('.firstImg').attr('src', 'img/coffe-table/shop-img-9-768x946.jpg');\n        $('figure a').attr('href', 'img/coffe-table/shop-img-9-768x946.jpg');\n    });\n\n\n    $('.woocommerce-cart-form').on('submit', function (eventObject) {\n        eventObject.preventDefault();\n    })\n\n\n    $('.placeOrder').on('click', function (eventObject) {\n        eventObject.preventDefault();\n    })\n\n\n    $('.search-form').submit(function (eventObject) {\n        eventObject.preventDefault();\n    })\n\n})(jQuery, window, document);"]},"metadata":{},"sourceType":"module"}